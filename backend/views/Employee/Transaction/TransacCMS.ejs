<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Management - Transaction Manager</title>
    <link rel="stylesheet" href="/css/Employee/Admin/AdminIndexStyles.css">
</head>
<body>
    <div class="dashboard-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h3>Transaction Manager Panel</h3>
            </div>
            <ul class="sidebar-menu">
                <li><a href="/Employee/TransactionManager">Dashboard</a></li>
                <li class="sidebar-section-label" style="font-weight:normal;">Transacentory</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Transaction/TransacProducts">Products</a></li>
                    <li><a href="/Employee/Transaction/TransacVariations">Variations</a></li>
                    <li><a href="/Employee/Transaction/TransacMaterials">Raw Materials</a></li>
                    <li><a href="/Employee/Transaction/TransacAlerts">Alerts</a></li>
                    <li><a href="/Employee/Transaction/TransacArchived">Archived items</a></li>
                </ul>
                <li class="sidebar-section-label" style="font-weight:normal;">Transactions</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Transaction/TransacRates">Delivery Rates</a></li>
                    <li><a href="/Employee/Transaction/TransacWalkIn">Walk In</a></li>
                    <li><a href="/Employee/Transaction/OrdersPending">Orders Pending</a></li>
                    <li><a href="/Employee/Transaction/OrdersProcessing">Orders Processing</a></li>
                    <li><a href="/Employee/Transaction/OrdersShipping">Orders Shipping</a></li>
                    <li><a href="/Employee/Transaction/OrdersDelivery">Orders Delivery</a></li>
                    <li><a href="/Employee/Transaction/OrdersReceive">Orders Receive</a></li>
                    <li><a href="/Employee/Transaction/CancelledOrders">Cancelled Orders</a></li>
                    <li><a href="/Employee/Transaction/CompletedOrders">Completed Orders</a></li>
                </ul>
                <li><a href="/Employee/Transaction/TransacManUsers">Manage Users</a></li>
                <li><a href="/Employee/Transaction/TransacReviews">Reviews</a></li>
                <li><a href="/Employee/Transaction/TransacChatSupport">Chat Support</a></li>
                <li><a href="/Employee/Transaction/TransacCMS">Content Management</a></li>
                <li><a href="/Employee/Transaction/TransacLogs">Activity Logs</a></li>
            </ul>
        </div>
        <div class="main-content">
            <div class="header">
                <h2>Content Management</h2>
            </div>
            <div class="content-area">
                <!-- Tab Navigation -->
                <div class="cms-tabs">
                    <button class="cms-tab-btn" onclick="showTab('hero-banner')" id="tab-hero-banner">Hero Banner</button>
                    <button class="cms-tab-btn" onclick="showTab('banner')" id="tab-banner">Banner</button>
                    <button class="cms-tab-btn" onclick="showTab('products')" id="tab-products">Products</button>
                    <button class="cms-tab-btn" onclick="showTab('testimonials')" id="tab-testimonials">Testimonials</button>
                    <button class="cms-tab-btn" onclick="showTab('offer')" id="tab-offer">Offer</button>
                    <button class="cms-tab-btn" onclick="showTab('gallery')" id="tab-gallery">Gallery</button>
                    <button class="cms-tab-btn" onclick="showTab('about')" id="tab-about">About Us</button>
                    <button class="cms-tab-btn" onclick="showTab('theme')" id="tab-theme">Theme</button>
                </div>
                <!-- Tab Content -->
                <div class="cms-tab-content" id="tab-content-hero-banner">
                    <h3>Hero Banner Management</h3>
                    <div class="cms-section-content">
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #17a2b8;">
                            <h4 style="margin-top: 0; color: #0c5460;">üéØ Hero Banner Content & Image</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Customize the main hero banner that appears at the top of your homepage.</p>
                            
                            <form id="transac-hero-banner-form" enctype="multipart/form-data" style="margin-bottom: 2em;">
                                <!-- Hero Banner Image -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Hero Banner Image</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-hero-banner-image">Upload New Image:</label><br>
                                        <input type="file" id="transac-hero-banner-image" name="heroBannerImage" accept="image/*" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                        <small style="color: #666; display: block; margin-top: 0.5em;">Recommended size: 1920x600 or larger. Will be displayed as the background of your hero section.</small>
                                    </div>
                                    <div id="transac-current-hero-image" style="margin-top: 1em;">
                                        <h6>Current Hero Image:</h6>
                                        <div id="transac-hero-image-preview" style="border: 1px solid #ddd; padding: 1em; border-radius: 4px; min-height: 100px; display: flex; align-items: center; justify-content: center;">
                                            <span id="transac-no-hero-image-text">No hero image set</span>
                                            <img id="transac-hero-image-preview-img" src="" alt="Hero banner preview" style="max-width: 100%; max-height: 200px; display: none;">
                                        </div>
                                        <button id="transac-remove-hero-image-btn" onclick="removeTransacHeroBannerImage()" style="background: #dc3545; color: white; border: none; padding: 0.5em 1em; border-radius: 4px; cursor: pointer; margin-top: 0.5em; display: none;">Remove Hero Image</button>
                                    </div>
                                </div>
                                
                                <!-- Hero Banner Content -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üìù Hero Banner Content</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-hero-main-heading">Main Heading:</label><br>
                                        <input type="text" id="transac-hero-main-heading" name="mainHeading" placeholder="Premium Office Furniture Solutions" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-hero-description-line1">Description Line 1:</label><br>
                                        <input type="text" id="transac-hero-description-line1" name="descriptionLine1" placeholder="Transform your workspace with our premium collection of office furniture" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-hero-description-line2">Description Line 2:</label><br>
                                        <input type="text" id="transac-hero-description-line2" name="descriptionLine2" placeholder="Discover our premium collection of office furniture designed for modern professionals" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-hero-button-text">Button Text:</label><br>
                                        <input type="text" id="transac-hero-button-text" name="buttonText" placeholder="SHOP NOW" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-hero-button-link">Button Link:</label><br>
                                        <input type="text" id="transac-hero-button-link" name="buttonLink" placeholder="/products" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                    </div>
                                </div>
                                
                                <!-- Hero Banner Colors -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üé® Hero Banner Colors</h5>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                        <div>
                                            <label for="transac-hero-text-color">Text Color:</label><br>
                                            <input type="color" id="transac-hero-text-color" name="textColor" value="#ffffff" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                        <div>
                                            <label for="transac-hero-button-bg-color">Button Background Color:</label><br>
                                            <input type="color" id="transac-hero-button-bg-color" name="buttonBgColor" value="#ffc107" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                    </div>
                                    <div style="margin-top: 15px;">
                                        <label for="transac-hero-button-text-color">Button Text Color:</label><br>
                                        <input type="color" id="transac-hero-button-text-color" name="buttonTextColor" value="#333333" style="width: 100%; height: 40px; padding: 0.5em;">
                                    </div>
                                </div>
                                
                                <button type="submit" style="background: #17a2b8; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Save Hero Banner Settings</button>
                            </form>
                            
                            <!-- Live Preview Section -->
                            <div style="margin-top: 2em;">
                                <h5 style="color: #0c5460;">üëÅÔ∏è Live Preview</h5>
                                <div id="transac-hero-banner-preview" style="border: 2px solid #ddd; border-radius: 8px; overflow: hidden; min-height: 300px; position: relative; background: linear-gradient(135deg, #6c757d 0%, #ffc107 100%);">
                                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-size: cover; background-position: center; background-repeat: no-repeat;" id="transac-preview-hero-background"></div>
                                    <div style="position: relative; z-index: 2; padding: 3rem 2rem; text-align: center; color: white;">
                                        <h1 id="transac-preview-hero-heading" style="font-size: 2.5rem; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">Premium Office Furniture Solutions</h1>
                                        <p id="transac-preview-hero-desc1" style="font-size: 1.1rem; margin-bottom: 0.5rem; opacity: 0.9;">Transform your workspace with our premium collection of office furniture</p>
                                        <p id="transac-preview-hero-desc2" style="font-size: 1.1rem; margin-bottom: 2rem; opacity: 0.9;">Discover our premium collection of office furniture designed for modern professionals</p>
                                        <button id="transac-preview-hero-button" style="background: #ffc107; color: #333; border: none; padding: 1rem 2rem; border-radius: 4px; font-size: 1.1rem; font-weight: bold; cursor: pointer;">SHOP NOW</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="transac-hero-banner-status-message"></div>
                        </div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-banner">
                    <h3>Header Banner Management</h3>
                    <div class="cms-section-content">
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #007bff;">
                            <h4 style="margin-top: 0; color: #004085;">Header Color Customization</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Customize the colors of different header sections to match your brand.</p>
                            
                            <form id="transac-header-banner-form" style="margin-bottom: 2em;">
                                <!-- Contact Row Colors -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üìû Contact Information Row</h5>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                        <div>
                                            <label for="transac-contact-bg-color">Background Color:</label><br>
                                            <input type="color" id="transac-contact-bg-color" name="contactBgColor" value="#f8f9fa" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                        <div>
                                            <label for="transac-contact-text-color">Text Color:</label><br>
                                            <input type="color" id="transac-contact-text-color" name="contactTextColor" value="#6c757d" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Main Header Row Colors -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üè¢ Main Header Row</h5>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                        <div>
                                            <label for="transac-main-bg-color">Background Color:</label><br>
                                            <input type="color" id="transac-main-bg-color" name="mainBgColor" value="#ffffff" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                        <div>
                                            <label for="transac-main-text-color">Text Color:</label><br>
                                            <input type="color" id="transac-main-text-color" name="mainTextColor" value="#333333" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Navigation Bar Colors -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üß≠ Navigation Bar</h5>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                        <div>
                                            <label for="transac-nav-bg-color">Background Color:</label><br>
                                            <input type="color" id="transac-nav-bg-color" name="navBgColor" value="#343a40" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                        <div>
                                            <label for="transac-nav-text-color">Text Color:</label><br>
                                            <input type="color" id="transac-nav-text-color" name="navTextColor" value="#ffffff" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                    </div>
                                    <div style="margin-top: 15px;">
                                        <label for="transac-nav-hover-color">Hover Color:</label><br>
                                            <input type="color" id="transac-nav-hover-color" name="navHoverColor" value="#007bff" style="width: 100%; height: 40px; padding: 0.5em;">
                                    </div>
                                </div>
                                
                                <!-- Search Bar Colors -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üîç Search Bar</h5>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                        <div>
                                            <label for="transac-search-border-color">Border Color:</label><br>
                                            <input type="color" id="transac-search-border-color" name="searchBorderColor" value="#ffc107" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                        <div>
                                            <label for="transac-search-btn-color">Button Color:</label><br>
                                            <input type="color" id="transac-search-btn-color" name="searchBtnColor" value="#ffc107" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="submit" style="background: #007bff; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Save Header Colors</button>
                            </form>
                            
                            <!-- Preview Section -->
                            <div style="margin-top: 2em;">
                                <h5 style="color: #495057;">üé® Live Preview</h5>
                                <div id="transac-header-preview" style="border: 2px solid #ddd; border-radius: 8px; overflow: hidden;">
                                    <!-- Contact Row Preview -->
                                    <div id="transac-preview-contact-row" style="padding: 0.5em 1em; display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 0.8em;">‚úâÔ∏è designexcellence1@gmail.com | üìû (02) 413-6682</span>
                                        <span style="font-size: 0.8em;">PHP ‚ñº | English ‚ñº</span>
                                    </div>
                                    
                                    <!-- Main Header Preview -->
                                    <div id="transac-preview-main-row" style="padding: 1em; display: flex; justify-content: space-between; align-items: center;">
                                        <div style="display: flex; align-items: center; gap: 1em;">
                                            <div style="border: 2px solid; padding: 0.5em; border-radius: 4px; min-width: 120px; text-align: center;">Search Bar</div>
                                        </div>
                                        <div style="font-weight: bold; font-size: 1.2em;">DESIGN EXCELLENCE</div>
                                        <div style="display: flex; gap: 1em;">
                                            <span>üë§</span><span>üõí</span><span>‚úâÔ∏è</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Navigation Preview -->
                                    <div id="transac-preview-nav-row" style="padding: 0.5em 1em; display: flex; gap: 1em; font-size: 0.8em;">
                                        <span>HOME</span><span>PRODUCTS</span><span>GALLERY</span><span>ABOUT US</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="transac-header-banner-status-message"></div>
                        </div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-products" style="display:none;">
                    <h3>Products</h3>
                    <div class="cms-section-content">
                        <table id="products-table" border="1" style="width:100%;margin-bottom:1em;">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Category</th>
                                    <th>Featured</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                        <div id="products-status"></div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-testimonials" style="display:none;">
                    <h3>Testimonials</h3>
                    <div class="cms-section-content">
                        <!-- Testimonials Design & Layout Settings -->
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #28a745;">
                            <h4 style="margin-top: 0; color: #155724;">üé® Testimonials Design & Layout Settings</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Customize how testimonials appear on the frontend with different themes and layouts.</p>
                            
                            <form id="transac-testimonials-design-form" style="margin-bottom: 2em;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div>
                                        <label for="transac-testimonials-theme">Theme Style:</label><br>
                                        <select id="transac-testimonials-theme" name="theme" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                            <option value="default">Default Theme (Current)</option>
                                            <option value="modern">Modern Cards</option>
                                            <option value="minimal">Minimal Clean</option>
                                            <option value="elegant">Elegant Classic</option>
                                            <option value="bold">Bold & Vibrant</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="transac-testimonials-layout">Layout Type:</label><br>
                                        <select id="transac-testimonials-layout" name="layout" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                            <option value="grid">Grid Layout</option>
                                            <option value="carousel">Carousel/Slider</option>
                                            <option value="list">List View</option>
                                            <option value="masonry">Masonry Grid</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div>
                                        <label for="transac-testimonials-per-row">Items Per Row:</label><br>
                                        <select id="transac-testimonials-per-row" name="perRow" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                            <option value="1">1 Item</option>
                                            <option value="2">2 Items</option>
                                            <option value="3" selected>3 Items</option>
                                            <option value="4">4 Items</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="transac-testimonials-animation">Animation Style:</label><br>
                                        <select id="transac-testimonials-animation" name="animation" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                            <option value="none">No Animation</option>
                                            <option value="fade">Fade In</option>
                                            <option value="slide">Slide Up</option>
                                            <option value="bounce">Bounce</option>
                                            <option value="zoom">Zoom In</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div>
                                        <label for="transac-testimonials-bg-color">Background Color:</label><br>
                                        <input type="color" id="transac-testimonials-bg-color" name="bgColor" value="#ffffff" style="width: 100%; height: 40px; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div>
                                        <label for="transac-testimonials-text-color">Text Color:</label><br>
                                        <input type="color" id="transac-testimonials-text-color" name="textColor" value="#333333" style="width: 100%; height: 40px; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div>
                                        <label for="transac-testimonials-text-align">Text Alignment:</label><br>
                                        <select id="transac-testimonials-text-align" name="textAlign" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                            <option value="left">Align Left</option>
                                            <option value="center">Center</option>
                                            <option value="right">Align Right</option>
                                            <option value="justify">Justify</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div>
                                        <label for="transac-testimonials-accent-color">Accent Color:</label><br>
                                        <input type="color" id="transac-testimonials-accent-color" name="accentColor" value="#ffc107" style="width: 100%; height: 40px; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div>
                                        <label for="transac-testimonials-border-radius">Border Radius:</label><br>
                                        <select id="transac-testimonials-border-radius" name="borderRadius" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                            <option value="0">No Radius</option>
                                            <option value="4">Small (4px)</option>
                                            <option value="8" selected>Medium (8px)</option>
                                            <option value="12">Large (12px)</option>
                                            <option value="20">Extra Large (20px)</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div style="margin-bottom: 20px;">
                                    <label for="transac-testimonials-show-rating">Display Options:</label><br>
                                    <div style="margin-top: 0.5em;">
                                        <label style="display: inline-flex; align-items: center; margin-right: 20px;">
                                            <input type="checkbox" id="transac-testimonials-show-rating" name="showRating" checked style="margin-right: 8px;">
                                            Show Star Ratings
                                        </label>
                                        <label style="display: inline-flex; align-items: center; margin-right: 20px;">
                                            <input type="checkbox" id="transac-testimonials-show-image" name="showImage" checked style="margin-right: 8px;">
                                            Show Profile Images
                                        </label>
                                        <label style="display: inline-flex; align-items: center; margin-right: 20px;">
                                            <input type="checkbox" id="transac-testimonials-show-title" name="showTitle" checked style="margin-right: 8px;">
                                            Show Job Titles
                                        </label>
                                    </div>
                                </div>
                                
                                <button type="submit" style="background: #28a745; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Save Design Settings</button>
                            </form>
                            
                            <!-- Live Preview Section -->
                            <div style="margin-top: 2em;">
                                <h5 style="color: #155724;">üëÅÔ∏è Live Preview</h5>
                                <div id="transac-testimonials-preview" style="border: 2px solid #ddd; border-radius: 8px; padding: 1em; background: #ffffff;">
                                    <div id="transac-testimonials-preview-content">
                                        <!-- Preview content will be dynamically generated -->
                                    </div>
                                </div>
                            </div>
                            
                            <div id="transac-testimonials-design-status-message"></div>
                        </div>
                        
                        <hr style="margin: 2em 0; border: 1px solid #ddd;">
                        
                        <!-- Add New Testimonial Form -->
                        <h4 style="color: #333; margin-bottom: 15px;">‚ûï Add New Testimonial</h4>
                        <form id="transac-testimonial-form" enctype="multipart/form-data" style="margin-bottom:2em;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                                <div>
                                    <label for="testimonial-name">Name:</label><br>
                                    <input type="text" id="testimonial-name" name="name" required style="width: 100%; padding: 8px; margin-top: 5px;">
                                </div>
                                <div>
                                    <label for="testimonial-title">Title/Position:</label><br>
                                    <input type="text" id="testimonial-title" name="title" style="width: 100%; padding: 8px; margin-top: 5px;">
                                </div>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label for="testimonial-text">Testimonial:</label><br>
                                <textarea id="testimonial-text" name="text" rows="3" required style="width: 100%; padding: 8px; margin-top: 5px;"></textarea>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label>Star Rating:</label><br>
                                <span class="star-rating">
                                    <input type="radio" id="star5" name="rating" value="5" required><label for="star5" title="5 stars">&#9733;</label>
                                    <input type="radio" id="star4" name="rating" value="4"><label for="star4" title="4 stars">&#9733;</label>
                                    <input type="radio" id="star3" name="rating" value="3"><label for="star3" title="3 stars">&#9733;</label>
                                    <input type="radio" id="star2" name="rating" value="2"><label for="star2" title="2 stars">&#9733;</label>
                                    <input type="radio" id="star1" name="rating" value="1"><label for="star1" title="1 star">&#9733;</label>
                                </span>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label for="testimonial-image">Image:</label><br>
                                <input type="file" id="testimonial-image" name="image" accept="image/*" style="width: 100%; padding: 8px; margin-top: 5px;">
                            </div>
                            <button type="submit" style="background: #007bff; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer;">Add Testimonial</button>
                        </form>
                        
                        <!-- Existing Testimonials List -->
                        <h4 style="color: #333; margin-bottom: 15px;">üìù Manage Existing Testimonials</h4>
                        <div id="transac-testimonials-list"></div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-offer" style="display:none;">
                    <h3>Offer Management</h3>
                    <div class="cms-section-content">
                        <!-- Header Offer Bar Management -->
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #ffc107;">
                            <h4 style="margin-top: 0; color: #856404;">Header Offer Bar Settings</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Edit the promotional banner that appears at the top of your website.</p>
                            
                            <form id="transac-header-offer-form" style="margin-bottom: 2em;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1em; margin-bottom: 1em;">
                                    <div>
                                        <label for="transac-header-offer-text">Offer Text:</label><br>
                                        <input type="text" id="transac-header-offer-text" name="offerText" placeholder="e.g., SPECIAL OFFER Get 25% off premium office furniture collections" style="width: 100%; padding: 0.5em;" required>
                                    </div>
                                    <div>
                                        <label for="transac-header-offer-button-text">Button Text:</label><br>
                                        <input type="text" id="transac-header-offer-button-text" name="buttonText" placeholder="e.g., Shop Now" style="width: 100%; padding: 0.5em;" required>
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1em; margin-bottom: 1em;">
                                    <div>
                                        <label for="transac-header-offer-start-date">Start Date:</label><br>
                                        <input type="date" id="transac-header-offer-start-date" name="startDate" style="width: 100%; padding: 0.5em;" required>
                                    </div>
                                    <div>
                                        <label for="transac-header-offer-end-date">End Date:</label><br>
                                        <input type="date" id="transac-header-offer-end-date" name="endDate" style="width: 100%; padding: 0.5em;" required>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1em;">
                                    <label for="transac-header-offer-status">Status:</label><br>
                                    <select id="transac-header-offer-status" name="status" style="width: 100%; padding: 0.5em;">
                                        <option value="active">Active</option>
                                        <option value="inactive">Inactive</option>
                                        <option value="scheduled">Scheduled</option>
                                    </select>
                                </div>
                                <div style="margin-bottom: 1em;">
                                    <label for="transac-header-offer-background-color">Background Color:</label><br>
                                    <input type="color" id="transac-header-offer-background-color" name="backgroundColor" value="#ffc107" style="width: 100%; height: 40px; padding: 0.5em;">
                                </div>
                                <div style="margin-bottom: 1em;">
                                    <label for="transac-header-offer-text-color">Text Color:</label><br>
                                    <input type="color" id="transac-header-offer-text-color" name="textColor" value="#ffffff" style="width: 100%; height: 40px; padding: 0.5em;">
                                </div>
                                <button type="submit" style="background: #28a745; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer;">Save Header Offer Bar</button>
                            </form>
                            
                            <div id="transac-header-offer-preview" style="background: #ffc107; color: white; padding: 1em; border-radius: 4px; margin-top: 1em;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div style="display: flex; align-items: center; gap: 0.5em;">
                                        <span style="font-size: 1.2em;">üî•</span>
                                        <span id="transac-preview-offer-text">SPECIAL OFFER Get 25% off premium office furniture collections - Limited time offer ending soon!</span>
                                    </div>
                                    <button id="transac-preview-button-text" style="background: white; color: #333; border: 1px solid #ddd; padding: 0.5em 1em; border-radius: 4px; cursor: pointer;">Shop Now</button>
                                </div>
                            </div>
                            <div id="transac-header-offer-status-message"></div>
                        </div>


                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-gallery" style="display:none;">
                    <h3>Gallery Management</h3>
                    <div class="cms-section-content">
                        <!-- Add New Gallery Item Form -->
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #28a745;">
                            <h4 style="margin-top: 0; color: #155724;">‚ûï Add New Gallery Item</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Create a new gallery item with main image, modal content, and thumbnail images.</p>
                            
                            <form id="transac-gallery-form" enctype="multipart/form-data" style="margin-bottom: 2em;">
                                <!-- Main Gallery Image -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Main Gallery Image</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-gallery-main-image">Upload Main Image:</label><br>
                                        <input type="file" id="transac-gallery-main-image" name="mainImage" accept="image/*" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                        <small style="color: #666; display: block; margin-top: 0.5em;">This is the image that appears in the gallery grid before clicking. Recommended size: 800x600 or larger.</small>
                                    </div>
                                </div>
                                
                                <!-- Gallery Item Details -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üìù Gallery Item Details</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-gallery-title">Title:</label><br>
                                        <input type="text" id="transac-gallery-title" name="title" placeholder="e.g., Executive Mahogany Desk" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-gallery-category">Category:</label><br>
                                        <select id="transac-gallery-category" name="category" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                            <option value="">Select Category</option>
                                            <option value="desks">Desks</option>
                                            <option value="chairs">Chairs</option>
                                            <option value="storage">Storage</option>
                                            <option value="conference">Conference</option>
                                            <option value="products">Products</option>
                                            <option value="showroom">Showroom</option>
                                            <option value="projects">Projects</option>
                                            <option value="events">Events</option>
                                        </select>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-gallery-tags">Tags (comma-separated):</label><br>
                                        <input type="text" id="transac-gallery-tags" name="tags" placeholder="e.g., wood, executive, classic" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                        <small style="color: #666; display: block; margin-top: 0.5em;">Separate multiple tags with commas</small>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-gallery-description">Description:</label><br>
                                        <textarea id="transac-gallery-description" name="description" rows="3" placeholder="Describe the gallery item..." style="width: 100%; padding: 0.5em; margin-top: 0.5em;"></textarea>
                                    </div>
                                </div>
                                
                                <!-- Modal Thumbnail Images -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Modal Thumbnail Images</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="transac-gallery-thumbnails">Upload Thumbnail Images (1-8 images):</label><br>
                                        <input type="file" id="transac-gallery-thumbnails" name="thumbnails" accept="image/*" multiple style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                        <small style="color: #666; display: block; margin-top: 0.5em;">These images appear as thumbnails in the modal when the gallery item is clicked. Upload 1-8 images. Recommended size: 200x150 or larger.</small>
                                    </div>
                                    <div id="transac-thumbnail-preview" style="margin-top: 1em;">
                                        <h6>Thumbnail Preview:</h6>
                                        <div id="transac-thumbnail-preview-container" style="display: flex; flex-wrap: wrap; gap: 10px; min-height: 60px; align-items: center; justify-content: center; border: 1px solid #ddd; padding: 1em; border-radius: 4px;">
                                            <span id="transac-no-thumbnails-text">No thumbnails selected</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="submit" style="background: #28a745; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Add Gallery Item</button>
                            </form>
                        </div>
                        
                        <!-- Existing Gallery Items -->
                        <div style="padding: 1.5em; background: #fff; border: 1px solid #e9ecef; border-radius: 8px;">
                            <h4 style="margin-top: 0; color: #333;">üìù Manage Existing Gallery Items</h4>
                            <div id="transac-gallery-status">Loading gallery items...</div>
                        </div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-about" style="display:none;">
                    <h3>About Us Content Management</h3>
                    <div class="cms-section-content">
                        <form id="transac-about-form" enctype="multipart/form-data" style="margin-bottom:2em;">
                            <!-- About Page Layout Selection -->
                            <div style="background: #fff3cd; padding: 12px 16px; border: 1px solid #ffeeba; border-radius: 6px; margin-bottom: 16px;">
                                <label for="transac-about-layout" style="font-weight:600; color:#856404;">About Page Layout:</label><br>
                                <select id="transac-about-layout" name="layout" style="margin-top:8px; padding:8px; min-width: 220px;">
                                    <option value="default">Default (current design)</option>
                                    <option value="minimal">Minimal (compact stacked)</option>
                                </select>
                                <div style="font-size:12px; color:#6c757d; margin-top:6px;">Choose how the About page is rendered on the storefront.</div>
                            </div>
                            <!-- Our Story Section -->
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #333; margin-bottom: 15px;">üìñ Our Story Section</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div>
                                        <label for="transac-story-title">Story Title:</label><br>
                                        <input type="text" id="transac-story-title" name="storyTitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Our Story">
                                    </div>
                                    <div>
                                        <label for="transac-story-subtitle">Story Subtitle:</label><br>
                                        <input type="text" id="transac-story-subtitle" name="storySubtitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Crafting Excellence Since 2000">
                                    </div>
                                </div>
                                <div>
                                    <label for="transac-story-description">Story Description:</label><br>
                                    <textarea id="transac-story-description" name="storyDescription" rows="4" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="What began as a small workshop has grown into a leading provider of premium office furniture solutions..."></textarea>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div>
                                        <label for="transac-projects-count">Projects Completed:</label><br>
                                        <input type="text" id="transac-projects-count" name="projectsCount" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="2000+">
                                    </div>
                                    <div>
                                        <label for="transac-clients-count">Happy Clients:</label><br>
                                        <input type="text" id="transac-clients-count" name="clientsCount" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="500+">
                                    </div>
                                </div>
                                <div>
                                    <label for="transac-story-image">Story Image:</label><br>
                                    <input type="file" id="transac-story-image" name="storyImage" accept="image/*" style="width: 100%; padding: 8px;">
                                </div>
                            </div>

                            <!-- Our Mission Section -->
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #333; margin-bottom: 15px;">üéØ Our Mission Section</h4>
                                <div>
                                    <label for="transac-mission-title">Mission Title:</label><br>
                                    <input type="text" id="transac-mission-title" name="missionTitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Our Mission">
                                </div>
                                <div>
                                    <label for="transac-mission-description">Mission Description:</label><br>
                                    <textarea id="transac-mission-description" name="missionDescription" rows="4" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="We strive to transform workspaces into inspiring environments..."></textarea>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                                    <div>
                                        <label for="transac-feature-1">Feature 1:</label><br>
                                        <input type="text" id="transac-feature-1" name="feature1" style="width: 100%; padding: 8px;" placeholder="Premium Materials">
                                    </div>
                                    <div>
                                        <label for="transac-feature-2">Feature 2:</label><br>
                                        <input type="text" id="transac-feature-2" name="feature2" style="width: 100%; padding: 8px;" placeholder="Ergonomic Design">
                                    </div>
                                    <div>
                                        <label for="transac-feature-3">Feature 3:</label><br>
                                        <input type="text" id="transac-feature-3" name="feature3" style="width: 100%; padding: 8px;" placeholder="Sustainable Practices">
                                    </div>
                                </div>
                                <div>
                                    <label for="transac-mission-image">Mission Image:</label><br>
                                    <input type="file" id="transac-mission-image" name="missionImage" accept="image/*" style="width: 100%; padding: 8px;">
                                </div>
                            </div>

                            <!-- Our Values Section -->
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #333; margin-bottom: 15px;">üíé Our Values Section</h4>
                                <div>
                                    <label for="transac-values-title">Values Title:</label><br>
                                    <input type="text" id="transac-values-title" name="valuesTitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Our Values">
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div>
                                        <label for="transac-value-1-title">Value 1 Title:</label><br>
                                        <input type="text" id="transac-value-1-title" name="value1Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Innovation">
                                        <label for="transac-value-1-description">Value 1 Description:</label><br>
                                        <textarea id="transac-value-1-description" name="value1Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Pushing boundaries in design and functionality"></textarea>
                                    </div>
                                    <div>
                                        <label for="transac-value-2-title">Value 2 Title:</label><br>
                                        <input type="text" id="transac-value-2-title" name="value2Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Quality">
                                        <label for="transac-value-2-description">Value 2 Description:</label><br>
                                        <textarea id="transac-value-2-description" name="value2Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Uncompromising commitment to excellence"></textarea>
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div>
                                        <label for="transac-value-3-title">Value 3 Title:</label><br>
                                        <input type="text" id="transac-value-3-title" name="value3Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Service">
                                        <label for="transac-value-3-description">Value 3 Description:</label><br>
                                        <textarea id="transac-value-3-description" name="value3Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Dedicated to exceeding expectations"></textarea>
                                    </div>
                                    <div>
                                        <label for="transac-value-4-title">Value 4 Title:</label><br>
                                        <input type="text" id="transac-value-4-title" name="value4Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Sustainability">
                                        <label for="transac-value-4-description">Value 4 Description:</label><br>
                                        <textarea id="transac-value-4-description" name="value4Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Committed to environmental responsibility"></textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Design Philosophy Section -->
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #333; margin-bottom: 15px;">üé® Design Philosophy Section</h4>
                                <div>
                                    <label for="transac-philosophy-title">Philosophy Title:</label><br>
                                    <input type="text" id="transac-philosophy-title" name="philosophyTitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Design Philosophy">
                                </div>
                                <div>
                                    <label for="transac-philosophy-subtitle">Philosophy Subtitle:</label><br>
                                    <input type="text" id="transac-philosophy-subtitle" name="philosophySubtitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Every element of our brand reflects our commitment to clean, modern design">
                                </div>
                                <div>
                                    <label for="transac-philosophy-description">Philosophy Description:</label><br>
                                    <textarea id="transac-philosophy-description" name="philosophyDescription" rows="4" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Our design language embraces simplicity and clarity..."></textarea>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                                    <div>
                                        <label for="transac-typo-1-title">Typography Feature 1 Title:</label><br>
                                        <input type="text" id="transac-typo-1-title" name="typo1Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Clean & Modern">
                                        <label for="transac-typo-1-description">Typography Feature 1 Description:</label><br>
                                        <textarea id="transac-typo-1-description" name="typo1Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Sans-serif fonts that provide excellent readability"></textarea>
                                    </div>
                                    <div>
                                        <label for="transac-typo-2-title">Typography Feature 2 Title:</label><br>
                                        <input type="text" id="transac-typo-2-title" name="typo2Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Consistent Hierarchy">
                                        <label for="transac-typo-2-description">Typography Feature 2 Description:</label><br>
                                        <textarea id="transac-typo-2-description" name="typo2Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Well-defined text sizes and weights"></textarea>
                                    </div>
                                    <div>
                                        <label for="transac-typo-3-title">Typography Feature 3 Title:</label><br>
                                        <input type="text" id="transac-typo-3-title" name="typo3Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Accessible Design">
                                        <label for="transac-typo-3-description">Typography Feature 3 Description:</label><br>
                                        <textarea id="transac-typo-3-description" name="typo3Description" rows="2" style="width: 100%; padding: 8px;" placeholder="High contrast ratios and legible font sizes"></textarea>
                                    </div>
                                </div>
                            </div>

                            <button type="submit" style="background: #28a745; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold;">Save About Us Content</button>
                        </form>
                        <div id="transac-about-status"></div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-theme" style="display:none;">
                    <h3>Theme</h3>
                    <div class="cms-section-content">
                        <form id="transac-theme-form" style="margin-bottom:2em;">
                            <div style="margin-bottom: 1em;">
                                <label for="theme-select">Select Theme:</label><br>
                                <select id="theme-select" name="theme" style="width: 100%; padding: 0.5em;">
                                    <option value="default">Default</option>
                                    <option value="dark">Dark</option>
                                    <option value="christmas">Christmas</option>
                                </select>
                            </div>
                            <button type="submit">Save Theme</button>
                        </form>
                        <div id="transac-theme-status"></div>
                        <div>Current active theme: <span id="transac-current-theme">Loading...</span></div>
                        
                        <hr style="margin: 2em 0;">
                        
                        <h4>Background Image</h4>
                        <form id="transac-theme-background-form" enctype="multipart/form-data" style="margin-bottom:2em;">
                            <div style="margin-bottom: 1em;">
                                <label for="transac-theme-background-image">Upload Background Image:</label><br>
                                <input type="file" id="transac-theme-background-image" name="backgroundImage" accept="image/*" style="width: 100%; padding: 0.5em;">
                                <small style="color: #666;">Recommended size: 1920x1080 or larger. Will be applied as background to the entire site.</small>
                            </div>
                            <button type="submit" style="background: #007bff; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer;">Upload Background Image</button>
                        </form>
                        <div id="transac-theme-background-status"></div>
                        
                        <div id="transac-current-background-preview" style="margin-top: 1em;">
                            <h5>Current Background Image:</h5>
                            <div id="transac-background-preview-container" style="border: 1px solid #ddd; padding: 1em; border-radius: 4px; min-height: 100px; display: flex; align-items: center; justify-content: center;">
                                <span id="transac-no-background-text">No background image set</span>
                                <img id="transac-background-preview-image" src="" alt="Background preview" style="max-width: 100%; max-height: 200px; display: none;">
                            </div>
                            <button id="transac-remove-background-btn" onclick="removeTransacBackgroundImage()" style="background: #dc3545; color: white; border: none; padding: 0.5em 1em; border-radius: 4px; cursor: pointer; margin-top: 0.5em; display: none;">Remove Background Image</button>
                        </div>
                    </div>
                </div>
                <style>
                    .cms-tabs { margin-bottom: 1em; }
                    .cms-tab-btn { margin-right: 8px; padding: 8px 16px; cursor: pointer; border: 1px solid #ccc; background: #f7f7f7; border-radius: 4px 4px 0 0; }
                    .cms-tab-btn.active { background: #fff; border-bottom: 1px solid #fff; font-weight: bold; }
                    .cms-tab-content { border: 1px solid #ccc; border-top: none; padding: 1em; background: #fff; }
                    .star-rating {
                        direction: rtl;
                        unicode-bidi: bidi-override;
                        display: inline-block;
                    }
                    .star-rating input[type="radio"] {
                        display: none;
                    }
                    .star-rating label {
                        color: #ccc;
                        font-size: 2em;
                        cursor: pointer;
                        transition: color 0.2s;
                    }
                    .star-rating input[type="radio"]:checked ~ label,
                    .star-rating label:hover,
                    .star-rating label:hover ~ label {
                        color: #f5b301;
                    }
                </style>
                <script>
                    function showTab(tab) {
                        const tabs = ['hero-banner', 'banner', 'products', 'testimonials', 'offer', 'gallery', 'about', 'theme'];
                        tabs.forEach(t => {
                            document.getElementById('tab-content-' + t).style.display = (t === tab) ? '' : 'none';
                            document.getElementById('tab-' + t).classList.toggle('active', t === tab);
                        });
                    }
                    
                    // --- Theme Tab Logic ---
                    async function fetchActiveTheme() {
                        try {
                            const res = await fetch('/api/theme/active');
                            const data = await res.json();
                            document.getElementById('transac-current-theme').textContent = data.activeTheme || 'default';
                            document.getElementById('theme-select').value = data.activeTheme || 'default';
                            
                            // Update background image preview
                            updateTransacBackgroundPreview(data.backgroundImage);
                        } catch {
                            document.getElementById('transac-current-theme').textContent = 'default';
                        }
                    }
                    
                    async function saveTheme(e) {
                        e.preventDefault();
                        const theme = document.getElementById('theme-select').value;
                        try {
                            const res = await fetch('/api/theme/active', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ activeTheme: theme })
                            });
                            const data = await res.json();
                            if (data.success) {
                                document.getElementById('transac-theme-status').textContent = 'Theme updated!';
                                document.getElementById('transac-current-theme').textContent = theme;
                            } else {
                                document.getElementById('transac-theme-status').textContent = 'Failed to update theme.';
                            }
                        } catch {
                            document.getElementById('transac-theme-status').textContent = 'Error updating theme.';
                        }
                    }
                    
                    // Background image functions for Transacentory Manager
                    function updateTransacBackgroundPreview(backgroundImage) {
                        const previewContainer = document.getElementById('transac-background-preview-container');
                        const previewImage = document.getElementById('transac-background-preview-image');
                        const noBackgroundText = document.getElementById('transac-no-background-text');
                        const removeBtn = document.getElementById('transac-remove-background-btn');
                        
                        if (backgroundImage) {
                            previewImage.src = backgroundImage;
                            previewImage.style.display = 'block';
                            noBackgroundText.style.display = 'none';
                            removeBtn.style.display = 'inline-block';
                        } else {
                            previewImage.style.display = 'none';
                            noBackgroundText.style.display = 'block';
                            removeBtn.style.display = 'none';
                        }
                    }
                    
                    async function handleTransacBackgroundImageUpload(e) {
                        e.preventDefault();
                        const form = e.target;
                        const formData = new FormData(form);
                        const statusDiv = document.getElementById('transac-theme-background-status');
                        
                        statusDiv.innerHTML = '<p style="color: #007bff;">Uploading...</p>';
                        
                        try {
                            const res = await fetch('/api/theme/background-image', {
                                method: 'POST',
                                body: formData
                            });
                            const data = await res.json();
                            
                            if (data.success) {
                                statusDiv.innerHTML = '<p style="color: green;">Background image uploaded successfully!</p>';
                                updateTransacBackgroundPreview(data.backgroundImage);
                                form.reset();
                                
                                // Auto-hide success message after 3 seconds
                                setTimeout(() => {
                                    statusDiv.innerHTML = '';
                                }, 3000);
                            } else {
                                statusDiv.innerHTML = '<p style="color: red;">Failed to upload background image.</p>';
                            }
                        } catch (err) {
                            statusDiv.innerHTML = '<p style="color: red;">Error uploading background image.</p>';
                        }
                    }
                    
                    async function removeTransacBackgroundImage() {
                        if (!confirm('Are you sure you want to remove the background image?')) return;
                        
                        try {
                            const res = await fetch('/api/theme/active', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ 
                                    activeTheme: document.getElementById('theme-select').value,
                                    backgroundImage: null 
                                })
                            });
                            const data = await res.json();
                            
                            if (data.success) {
                                updateTransacBackgroundPreview(null);
                                document.getElementById('transac-theme-background-status').innerHTML = '<p style="color: green;">Background image removed successfully!</p>';
                                
                                // Auto-hide success message after 3 seconds
                                setTimeout(() => {
                                    document.getElementById('transac-theme-background-status').innerHTML = '';
                                }, 3000);
                            }
                        } catch (err) {
                            document.getElementById('transac-theme-background-status').innerHTML = '<p style="color: red;">Error removing background image.</p>';
                        }
                    }
                    
                    // --- Products Tab Logic ---
                    async function fetchProducts() {
                        const res = await fetch('/api/admin/products');
                        return res.json();
                    }
                    async function setProductFeatured(id, isFeatured) {
                        const res = await fetch(`/api/admin/products/${id}/feature`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ isFeatured })
                        });
                        return res.json();
                    }
                    async function renderProductsTable() {
                        const tbody = document.querySelector('#products-table tbody');
                        if (!tbody) return;
                        tbody.innerHTML = '<tr><td colspan="3">Loading...</td></tr>';
                        try {
                            const products = await fetchProducts();
                            tbody.innerHTML = products.map(p => `
                                <tr>
                                    <td>${p.Name}</td>
                                    <td>${p.Category}</td>
                                    <td>
                                        <input type="checkbox" ${p.IsFeatured ? 'checked' : ''} onchange="toggleFeatured(${p.ProductID}, this.checked)">
                                    </td>
                                </tr>
                            `).join('');
                        } catch {
                            tbody.innerHTML = '<tr><td colspan="3">Failed to load products.</td></tr>';
                        }
                    }
                    window.toggleFeatured = async function(id, checked) {
                        document.getElementById('products-status').textContent = 'Saving...';
                        try {
                            await setProductFeatured(id, checked);
                            document.getElementById('products-status').textContent = 'Saved!';
                            renderProductsTable();
                        } catch {
                            document.getElementById('products-status').textContent = 'Failed to save.';
                        }
                    };
                    
                    // Render products table on tab switch
                    const productsTabBtn = document.getElementById('tab-products');
                    if (productsTabBtn) {
                        productsTabBtn.addEventListener('click', renderProductsTable);
                    }
                    
                    // --- Header Offer Bar Management for Transacentory Manager ---
                    
                    // Fetch header offer bar settings from backend
                    async function fetchHeaderOfferBar() {
                        const res = await fetch('/api/admin/header-offer-bar');
                        if (!res.ok) throw new Error('Failed to fetch header offer bar settings');
                        return res.json();
                    }
                    
                    // Save header offer bar settings
                    async function saveHeaderOfferBar(formData) {
                        const res = await fetch('/api/admin/header-offer-bar', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData),
                        });
                        if (!res.ok) throw new Error('Failed to save header offer bar settings');
                        return res.json();
                    }
                    
                    // Load header offer bar settings into form
                    async function loadHeaderOfferBarSettings() {
                        try {
                            const settings = await fetchHeaderOfferBar();
                            if (settings) {
                                document.getElementById('transac-header-offer-text').value = settings.offerText || '';
                                document.getElementById('transac-header-offer-button-text').value = settings.buttonText || '';
                                document.getElementById('transac-header-offer-start-date').value = settings.startDate || '';
                                document.getElementById('transac-header-offer-end-date').value = settings.endDate || '';
                                document.getElementById('transac-header-offer-status').value = settings.status || 'active';
                                document.getElementById('transac-header-offer-background-color').value = settings.backgroundColor || '#ffc107';
                                document.getElementById('transac-header-offer-text-color').value = settings.textColor || '#ffffff';
                                
                                // Update preview
                                updateHeaderOfferPreview();
                            }
                        } catch (err) {
                            console.error('Error loading header offer bar settings:', err);
                        }
                    }
                    
                    // Update the preview of the header offer bar
                    function updateHeaderOfferPreview() {
                        const offerText = document.getElementById('transac-header-offer-text').value || 'SPECIAL OFFER Get 25% off premium office furniture collections - Limited time offer ending soon!';
                        const buttonText = document.getElementById('transac-header-offer-button-text').value || 'Shop Now';
                        const backgroundColor = document.getElementById('transac-header-offer-background-color').value || '#ffc107';
                        const textColor = document.getElementById('transac-header-offer-text-color').value || '#ffffff';
                        
                        const preview = document.getElementById('transac-header-offer-preview');
                        const previewText = document.getElementById('transac-preview-offer-text');
                        const previewButton = document.getElementById('transac-preview-button-text');
                        
                        if (preview && previewText && previewButton) {
                            preview.style.backgroundColor = backgroundColor;
                            preview.style.color = textColor;
                            previewText.textContent = offerText;
                            previewButton.textContent = buttonText;
                        }
                    }
                    
                    // Handle header offer bar form submit
                    async function handleHeaderOfferFormSubmit(e) {
                        e.preventDefault();
                        const form = e.target;
                        
                        // Collect form data as an object
                        const formData = {
                            offerText: form.querySelector('[name="offerText"]').value,
                            buttonText: form.querySelector('[name="buttonText"]').value,
                            startDate: form.querySelector('[name="startDate"]').value,
                            endDate: form.querySelector('[name="endDate"]').value,
                            status: form.querySelector('[name="status"]').value,
                            backgroundColor: form.querySelector('[name="backgroundColor"]').value,
                            textColor: form.querySelector('[name="textColor"]').value
                        };
                        
                        const statusDiv = document.getElementById('transac-header-offer-status-message');
                        
                        try {
                            await saveHeaderOfferBar(formData);
                            statusDiv.innerHTML = '<p style="color: green; margin-top: 1em;">Header offer bar settings saved successfully!</p>';
                            
                            // Auto-hide success message after 3 seconds
                            setTimeout(() => {
                                statusDiv.innerHTML = '';
                            }, 3000);
                        } catch (err) {
                            statusDiv.innerHTML = '<p style="color: red; margin-top: 1em;">Failed to save header offer bar settings.</p>';
                        }
                    }

                    // --- Header Banner Management for Transacentory Manager ---
                    
                    // Fetch header banner settings from backend
                    async function fetchHeaderBannerSettings() {
                        const res = await fetch('/api/admin/header-banner');
                        if (!res.ok) throw new Error('Failed to fetch header banner settings');
                        return res.json();
                    }
                    
                    // Save header banner settings
                    async function saveHeaderBannerSettings(formData) {
                        const res = await fetch('/api/admin/header-banner', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData),
                        });
                        if (!res.ok) throw new Error('Failed to save header banner settings');
                        return res.json();
                    }
                    
                    // Load header banner settings into form
                    async function loadHeaderBannerSettings() {
                        try {
                            const settings = await fetchHeaderBannerSettings();
                            if (settings) {
                                // Contact Row Colors
                                document.getElementById('transac-contact-bg-color').value = settings.contactBgColor || '#f8f9fa';
                                document.getElementById('transac-contact-text-color').value = settings.contactTextColor || '#6c757d';
                                
                                // Main Header Row Colors
                                document.getElementById('transac-main-bg-color').value = settings.mainBgColor || '#ffffff';
                                document.getElementById('transac-main-text-color').value = settings.mainTextColor || '#333333';
                                
                                // Navigation Bar Colors
                                document.getElementById('transac-nav-bg-color').value = settings.navBgColor || '#343a40';
                                document.getElementById('transac-nav-text-color').value = settings.navTextColor || '#ffffff';
                                document.getElementById('transac-nav-hover-color').value = settings.navHoverColor || '#007bff';
                                
                                // Search Bar Colors
                                document.getElementById('transac-search-border-color').value = settings.searchBorderColor || '#ffc107';
                                document.getElementById('transac-search-btn-color').value = settings.searchBtnColor || '#ffc107';
                                
                                // Update preview
                                updateTransacHeaderBannerPreview();
                            }
                        } catch (err) {
                            console.error('Error loading header banner settings:', err);
                        }
                    }
                    
                    // Update the preview of the header banner
                    function updateTransacHeaderBannerPreview() {
                        // Contact Row Preview
                        const contactBgColor = document.getElementById('transac-contact-bg-color').value || '#f8f9fa';
                        const contactTextColor = document.getElementById('transac-contact-text-color').value || '#6c757d';
                        
                        const previewContactRow = document.getElementById('transac-preview-contact-row');
                        if (previewContactRow) {
                            previewContactRow.style.backgroundColor = contactBgColor;
                            previewContactRow.style.color = contactTextColor;
                        }
                        
                        // Main Header Row Preview
                        const mainBgColor = document.getElementById('transac-main-bg-color').value || '#ffffff';
                        const mainTextColor = document.getElementById('transac-main-text-color').value || '#333333';
                        
                        const previewMainRow = document.getElementById('transac-preview-main-row');
                        if (previewMainRow) {
                            previewMainRow.style.backgroundColor = mainBgColor;
                            previewMainRow.style.color = mainTextColor;
                        }
                        
                        // Navigation Row Preview
                        const navBgColor = document.getElementById('transac-nav-bg-color').value || '#343a40';
                        const navTextColor = document.getElementById('transac-nav-text-color').value || '#ffffff';
                        
                        const previewNavRow = document.getElementById('transac-preview-nav-row');
                        if (previewNavRow) {
                            previewNavRow.style.backgroundColor = navBgColor;
                            previewNavRow.style.color = navTextColor;
                        }
                        
                        // Search Bar Preview
                        const searchBorderColor = document.getElementById('transac-search-border-color').value || '#ffc107';
                        const searchBtnColor = document.getElementById('transac-search-btn-color').value || '#ffc107';
                        
                        const searchBarPreview = document.querySelector('#transac-preview-main-row div[style*="border"]');
                        if (searchBarPreview) {
                            searchBarPreview.style.borderColor = searchBorderColor;
                        }
                    }
                    
                    // Handle header banner form submit
                    async function handleTransacHeaderBannerFormSubmit(e) {
                        e.preventDefault();
                        const form = e.target;
                        
                        // Collect form data as an object
                        const formData = {
                            contactBgColor: form.querySelector('[name="contactBgColor"]').value,
                            contactTextColor: form.querySelector('[name="contactTextColor"]').value,
                            mainBgColor: form.querySelector('[name="mainBgColor"]').value,
                            mainTextColor: form.querySelector('[name="mainTextColor"]').value,
                            navBgColor: form.querySelector('[name="navBgColor"]').value,
                            navTextColor: form.querySelector('[name="navTextColor"]').value,
                            navHoverColor: form.querySelector('[name="navHoverColor"]').value,
                            searchBorderColor: form.querySelector('[name="searchBorderColor"]').value,
                            searchBtnColor: form.querySelector('[name="searchBtnColor"]').value
                        };
                        
                        const statusDiv = document.getElementById('transac-header-banner-status-message');
                        
                        try {
                            await saveHeaderBannerSettings(formData);
                            statusDiv.innerHTML = '<p style="color: green; margin-top: 1em;">Header banner colors saved successfully!</p>';
                            
                            // Auto-hide success message after 3 seconds
                            setTimeout(() => {
                                statusDiv.innerHTML = '';
                            }, 3000);
                        } catch (err) {
                            statusDiv.innerHTML = '<p style="color: red; margin-top: 1em;">Failed to save header banner colors.</p>';
                        }
                    }
                    
                    // Load about us content into form for Transacentory Manager
                    async function loadTransacAboutUsContent() {
                        try {
                            const response = await fetch('/api/admin/about');
                            const content = await response.json();
                            if (content) {
                                // Story Section
                                document.getElementById('transac-story-title').value = content.StoryTitle || '';
                                document.getElementById('transac-story-subtitle').value = content.StorySubtitle || '';
                                document.getElementById('transac-story-description').value = content.StoryDescription || '';
                                document.getElementById('transac-projects-count').value = content.ProjectsCount || '';
                                document.getElementById('transac-clients-count').value = content.ClientsCount || '';
                                
                                // Mission Section
                                document.getElementById('transac-mission-title').value = content.MissionTitle || '';
                                document.getElementById('transac-mission-description').value = content.MissionDescription || '';
                                document.getElementById('transac-feature-1').value = content.Feature1 || '';
                                document.getElementById('transac-feature-2').value = content.Feature2 || '';
                                document.getElementById('transac-feature-3').value = content.Feature3 || '';
                                
                                // Values Section
                                document.getElementById('transac-values-title').value = content.ValuesTitle || '';
                                document.getElementById('transac-value-1-title').value = content.Value1Title || '';
                                document.getElementById('transac-value-1-description').value = content.Value1Description || '';
                                document.getElementById('transac-value-2-title').value = content.Value2Title || '';
                                document.getElementById('transac-value-2-description').value = content.Value2Description || '';
                                document.getElementById('transac-value-3-title').value = content.Value3Title || '';
                                document.getElementById('transac-value-3-description').value = content.Value3Description || '';
                                document.getElementById('transac-value-4-title').value = content.Value4Title || '';
                                document.getElementById('transac-value-4-description').value = content.Value4Description || '';
                                
                                // Philosophy Section
                                document.getElementById('transac-philosophy-title').value = content.PhilosophyTitle || '';
                                document.getElementById('transac-philosophy-subtitle').value = content.PhilosophySubtitle || '';
                                document.getElementById('transac-philosophy-description').value = content.PhilosophyDescription || '';
                                document.getElementById('transac-typo-1-title').value = content.Typo1Title || '';
                                document.getElementById('transac-typo-1-description').value = content.Typo1Description || '';
                                document.getElementById('transac-typo-2-title').value = content.Typo2Title || '';
                                document.getElementById('transac-typo-2-description').value = content.Typo2Description || '';
                                document.getElementById('transac-typo-3-title').value = content.Typo3Title || '';
                                document.getElementById('transac-typo-3-description').value = content.Typo3Description || '';

                                // Layout
                                const layoutSelect = document.getElementById('transac-about-layout');
                                if (layoutSelect) layoutSelect.value = content.Layout || 'default';
                            }
                        } catch (err) {
                            console.error('Error loading about us content:', err);
                        }
                    }

                    // --- Testimonials Design Management for Transacentory Manager ---
                    
                    // Fetch testimonials design settings from backend
                    async function fetchTransacTestimonialsDesignSettings() {
                        const res = await fetch('/api/admin/testimonials-design');
                        if (!res.ok) throw new Error('Failed to fetch testimonials design settings');
                        return res.json();
                    }
                    
                    // Save testimonials design settings
                    async function saveTransacTestimonialsDesignSettings(formData) {
                        const res = await fetch('/api/admin/testimonials-design', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData),
                        });
                        if (!res.ok) throw new Error('Failed to save testimonials design settings');
                        return res.json();
                    }
                    
                    // Load testimonials design settings into form
                    async function loadTransacTestimonialsDesignSettings() {
                        try {
                            const settings = await fetchTransacTestimonialsDesignSettings();
                            if (settings) {
                                // Theme and Layout
                                document.getElementById('transac-testimonials-theme').value = settings.theme || 'default';
                                document.getElementById('transac-testimonials-layout').value = settings.layout || 'grid';
                                document.getElementById('transac-testimonials-per-row').value = settings.perRow || '3';
                                document.getElementById('transac-testimonials-animation').value = settings.animation || 'none';
                                
                                // Colors
                                document.getElementById('transac-testimonials-bg-color').value = settings.bgColor || '#ffffff';
                                document.getElementById('transac-testimonials-text-color').value = settings.textColor || '#333333';
                                document.getElementById('transac-testimonials-accent-color').value = settings.accentColor || '#ffc107';
                                document.getElementById('transac-testimonials-border-radius').value = settings.borderRadius || '8';
                                
                                // Display Options
                                document.getElementById('transac-testimonials-show-rating').checked = settings.showRating !== false;
                                document.getElementById('transac-testimonials-show-image').checked = settings.showImage !== false;
                                document.getElementById('transac-testimonials-show-title').checked = settings.showTitle !== false;
                                // Text Alignment
                                const alignEl = document.getElementById('transac-testimonials-text-align');
                                if (alignEl) alignEl.value = settings.textAlign || 'left';
                                
                                // Update preview
                                updateTransacTestimonialsPreview();
                            }
                        } catch (err) {
                            console.error('Error loading testimonials design settings:', err);
                        }
                    }
                    
                    // Update the preview of the testimonials
                    function updateTransacTestimonialsPreview() {
                        const theme = document.getElementById('transac-testimonials-theme').value || 'default';
                        const layout = document.getElementById('transac-testimonials-layout').value || 'grid';
                        const perRow = document.getElementById('transac-testimonials-per-row').value || '3';
                        const animation = document.getElementById('transac-testimonials-animation').value || 'none';
                        const bgColor = document.getElementById('transac-testimonials-bg-color').value || '#ffffff';
                        const textColor = document.getElementById('transac-testimonials-text-color').value || '#333333';
                        const accentColor = document.getElementById('transac-testimonials-accent-color').value || '#ffc107';
                        const borderRadius = document.getElementById('transac-testimonials-border-radius').value || '8';
                        const showRating = document.getElementById('transac-testimonials-show-rating').checked;
                        const showImage = document.getElementById('transac-testimonials-show-image').checked;
                        const showTitle = document.getElementById('transac-testimonials-show-title').checked;
                        const textAlign = document.getElementById('transac-testimonials-text-align').value || 'left';
                        
                        const previewContainer = document.getElementById('transac-testimonials-preview');
                        const previewContent = document.getElementById('transac-testimonials-preview-content');
                        
                        if (previewContainer && previewContent) {
                            // Apply container styles
                            previewContainer.style.backgroundColor = bgColor;
                            previewContainer.style.color = textColor;
                            
                            // Generate preview content based on theme
                            const previewHTML = generateTransacTestimonialsPreviewHTML(theme, layout, perRow, animation, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle, textAlign);
                            previewContent.innerHTML = previewHTML;
                            
                            // Apply animation class if specified
                            if (animation !== 'none') {
                                previewContent.className = `testimonials-preview-${animation}`;
                            }
                        }
                    }
                    
                    // Generate preview HTML based on theme and settings
                    function generateTransacTestimonialsPreviewHTML(theme, layout, perRow, animation, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle, textAlign) {
                        const sampleTestimonials = [
                            { name: 'John Smith', title: 'CEO, TechCorp', text: 'Amazing service and quality products!', rating: 5, image: '/public/img/default-avatar.png' },
                            { name: 'Sarah Johnson', title: 'Design Manager', text: 'Exceeded all our expectations.', rating: 5, image: '/public/img/default-avatar.png' },
                            { name: 'Mike Wilson', title: 'Project Lead', text: 'Professional and reliable team.', rating: 4, image: '/public/img/default-avatar.png' }
                        ];
                        
                        let html = '';
                        
                        switch (theme) {
                            case 'modern':
                                html = generateTransacModernThemeHTML(sampleTestimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle);
                                break;
                            case 'minimal':
                                html = generateTransacMinimalThemeHTML(sampleTestimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle);
                                break;
                            case 'elegant':
                                html = generateTransacElegantThemeHTML(sampleTestimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle);
                                break;
                            case 'bold':
                                html = generateTransacBoldThemeHTML(sampleTestimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle);
                                break;
                            default:
                                html = generateTransacDefaultThemeHTML(sampleTestimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle);
                        }
                        
                        return html;
                    }
                    
                    // Theme-specific HTML generators for Transacentory Manager
                    function generateTransacDefaultThemeHTML(testimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle, textAlign) {
                        return `
                            <div class="testimonials-container" style="display: grid; grid-template-columns: repeat(${perRow}, 1fr); gap: 20px;">
                                ${testimonials.map(t => `
                                    <div class="testimonial-item" style="background: white; padding: 20px; border-radius: ${borderRadius}px; border: 1px solid #ddd; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: ${textAlign};">
                                        ${showImage ? `<img src="${t.image}" alt="${t.name}" style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin-bottom: 15px;">` : ''}
                                        <div class="testimonial-content">
                                            <p style="margin-bottom: 15px; font-style: italic;">"${t.text}"</p>
                                            <div class="testimonial-author">
                                                <strong style="color: ${accentColor};">${t.name}</strong>
                                                ${showTitle ? `<br><small style="color: #666;">${t.title}</small>` : ''}
                                            </div>
                                            ${showRating ? `<div class="stars" style="color: ${accentColor}; margin-top: 10px;">${'‚òÖ'.repeat(t.rating)}</div>` : ''}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                    }
                    
                    function generateTransacModernThemeHTML(testimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle, textAlign) {
                        return `
                            <div class="testimonials-container" style="display: grid; grid-template-columns: repeat(${perRow}, 1fr); gap: 25px;">
                                ${testimonials.map(t => `
                                    <div class="testimonial-item" style="background: linear-gradient(135deg, white 0%, #f8f9fa 100%); padding: 25px; border-radius: ${borderRadius}px; border: none; box-shadow: 0 8px 25px rgba(0,0,0,0.1); transition: transform 0.3s ease;">
                                        ${showImage ? `<div style="text-align: ${textAlign}; margin-bottom: 20px;"><img src="${t.image}" alt="${t.name}" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 4px solid ${accentColor};"></div>` : ''}
                                        <div class="testimonial-content" style="text-align: ${textAlign};">
                                            <p style="margin-bottom: 20px; font-style: italic; font-size: 16px; line-height: 1.6;">"${t.text}"</p>
                                            <div class="testimonial-author">
                                                <strong style="color: ${accentColor}; font-size: 18px;">${t.name}</strong>
                                                ${showTitle ? `<br><small style="color: #666; font-size: 14px;">${t.title}</small>` : ''}
                                            </div>
                                            ${showRating ? `<div class="stars" style="color: ${accentColor}; margin-top: 15px; font-size: 20px;">${'‚òÖ'.repeat(t.rating)}</div>` : ''}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                    }
                    
                    function generateTransacMinimalThemeHTML(testimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle, textAlign) {
                        return `
                            <div class="testimonials-container" style="display: grid; grid-template-columns: repeat(${perRow}, 1fr); gap: 30px;">
                                ${testimonials.map(t => `
                                    <div class="testimonial-item" style="background: transparent; padding: 20px; border-radius: 0; border-left: 3px solid ${accentColor}; box-shadow: none;">
                                        <div class="testimonial-content" style="text-align: ${textAlign};">
                                            <p style="margin-bottom: 20px; font-style: normal; font-size: 16px; line-height: 1.7; color: ${textColor};">"${t.text}"</p>
                                            <div class="testimonial-author" style="display: flex; align-items: center; gap: 15px;">
                                                ${showImage ? `<img src="${t.image}" alt="${t.name}" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">` : ''}
                                                <div>
                                                    <strong style="color: ${textColor}; font-size: 16px;">${t.name}</strong>
                                                    ${showTitle ? `<br><small style="color: #888; font-size: 14px;">${t.title}</small>` : ''}
                                                </div>
                                            </div>
                                            ${showRating ? `<div class="stars" style="color: ${accentColor}; margin-top: 15px; font-size: 16px;">${'‚òÖ'.repeat(t.rating)}</div>` : ''}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                    }
                    
                    function generateTransacElegantThemeHTML(testimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle, textAlign) {
                        return `
                            <div class="testimonials-container" style="display: grid; grid-template-columns: repeat(${perRow}, 1fr); gap: 25px;">
                                ${testimonials.map(t => `
                                    <div class="testimonial-item" style="background: white; padding: 30px; border-radius: ${borderRadius}px; border: 1px solid #e0e0e0; box-shadow: 0 4px 20px rgba(0,0,0,0.08); position: relative;">
                                        <div style="position: absolute; top: -15px; left: 30px; background: ${accentColor}; color: white; padding: 8px 15px; border-radius: 20px; font-size: 24px;">"</div>
                                        <div class="testimonial-content" style="margin-top: 20px; text-align: ${textAlign};">
                                            <p style="margin-bottom: 25px; font-style: italic; font-size: 16px; line-height: 1.8; color: ${textColor};">${t.text}</p>
                                            <div class="testimonial-author" style="border-top: 1px solid #f0f0f0; padding-top: 20px;">
                                                ${showImage ? `<img src="${t.image}" alt="${t.name}" style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover; float: left; margin-right: 15px;">` : ''}
                                                <div style="overflow: hidden;">
                                                    <strong style="color: ${accentColor}; font-size: 18px;">${t.name}</strong>
                                                    ${showTitle ? `<br><small style="color: #666; font-size: 14px; font-weight: 500;">${t.title}</small>` : ''}
                                                </div>
                                            </div>
                                            ${showRating ? `<div class="stars" style="color: ${accentColor}; margin-top: 15px; font-size: 18px;">${'‚òÖ'.repeat(t.rating)}</div>` : ''}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                    }
                    
                    function generateTransacBoldThemeHTML(testimonials, layout, perRow, bgColor, textColor, accentColor, borderRadius, showRating, showImage, showTitle, textAlign) {
                        return `
                            <div class="testimonials-container" style="display: grid; grid-template-columns: repeat(${perRow}, 1fr); gap: 20px;">
                                ${testimonials.map(t => `
                                    <div class="testimonial-item" style="background: ${accentColor}; color: white; padding: 25px; border-radius: ${borderRadius}px; border: none; box-shadow: 0 6px 20px rgba(0,0,0,0.2); transform: rotate(-1deg);">
                                        ${showImage ? `<div style="text-align: ${textAlign}; margin-bottom: 20px;"><img src="${t.image}" alt="${t.name}" style="width: 70px; height: 70px; border-radius: 50%; object-fit: cover; border: 3px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.2);"></div>` : ''}
                                        <div class="testimonial-content" style="text-align: ${textAlign};">
                                            <p style="margin-bottom: 20px; font-style: italic; font-size: 18px; line-height: 1.6; font-weight: 500;">"${t.text}"</p>
                                            <div class="testimonial-author">
                                                <strong style="color: white; font-size: 20px; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">${t.name}</strong>
                                                ${showTitle ? `<br><small style="color: rgba(255,255,255,0.9); font-size: 14px;">${t.title}</small>` : ''}
                                            </div>
                                            ${showRating ? `<div class="stars" style="color: white; margin-top: 15px; font-size: 22px; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">${'‚òÖ'.repeat(t.rating)}</div>` : ''}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                    }
                    
                    // Handle testimonials design form submit for Transacentory Manager
                    async function handleTransacTestimonialsDesignFormSubmit(e) {
                        e.preventDefault();
                        const form = e.target;
                        
                        // Collect form data as an object
                        const formData = {
                            theme: form.querySelector('[name="theme"]').value,
                            layout: form.querySelector('[name="layout"]').value,
                            perRow: form.querySelector('[name="perRow"]').value,
                            animation: form.querySelector('[name="animation"]').value,
                            bgColor: form.querySelector('[name="bgColor"]').value,
                            textColor: form.querySelector('[name="textColor"]').value,
                            accentColor: form.querySelector('[name="accentColor"]').value,
                            borderRadius: form.querySelector('[name="borderRadius"]').value,
                            showRating: form.querySelector('[name="showRating"]').checked,
                            showImage: form.querySelector('[name="showImage"]').checked,
                            showTitle: form.querySelector('[name="showTitle"]').checked,
                            textAlign: form.querySelector('[name="textAlign"]').value
                        };
                        
                        const statusDiv = document.getElementById('transac-testimonials-design-status-message');
                        
                        try {
                            await saveTransacTestimonialsDesignSettings(formData);
                            statusDiv.innerHTML = '<p style="color: green; margin-top: 1em;">Testimonials design settings saved successfully!</p>';
                            
                            // Auto-hide success message after 3 seconds
                            setTimeout(() => {
                                statusDiv.innerHTML = '';
                            }, 3000);
                        } catch (err) {
                            statusDiv.innerHTML = '<p style="color: red; margin-top: 1em;">Failed to save testimonials design settings.</p>';
                        }
                    }
                    
                    // Handle about us form submit for Transacentory Manager
                    async function handleTransacAboutUsFormSubmit(e) {
                        e.preventDefault();
                        const form = e.target;
                        const formData = new FormData(form);
                        const statusDiv = document.getElementById('transac-about-status');
                        
                        try {
                            const response = await fetch('/api/admin/about', {
                                method: 'POST',
                                body: formData
                            });
                            const data = await response.json();
                            
                            if (data.success) {
                                statusDiv.innerHTML = '<p style="color: green;">About Us content saved successfully!</p>';
                                
                                // Auto-hide success message after 3 seconds
                                setTimeout(() => {
                                    statusDiv.innerHTML = '';
                                }, 3000);
                            } else {
                                statusDiv.innerHTML = '<p style="color: red;">Failed to save About Us content.</p>';
                            }
                        } catch (err) {
                            statusDiv.innerHTML = '<p style="color: red;">Error saving About Us content.</p>';
                        }
                    }
                    
                    document.addEventListener('DOMContentLoaded', function() {
                        showTab('hero-banner');
                        const themeForm = document.getElementById('transac-theme-form');
                        if (themeForm) themeForm.addEventListener('submit', saveTheme);
                        
                        const backgroundForm = document.getElementById('transac-theme-background-form');
                        if (backgroundForm) backgroundForm.addEventListener('submit', handleTransacBackgroundImageUpload);
                        
                        const aboutForm = document.getElementById('transac-about-form');
                        if (aboutForm) {
                            aboutForm.addEventListener('submit', handleTransacAboutUsFormSubmit);
                            loadTransacAboutUsContent();
                        }
                        
                        fetchActiveTheme();
                        
                        // Header Offer Bar for Transacentory Manager
                        const headerOfferForm = document.getElementById('transac-header-offer-form');
                        if (headerOfferForm) {
                            headerOfferForm.addEventListener('submit', handleHeaderOfferFormSubmit);
                            loadHeaderOfferBarSettings();
                            
                            // Add real-time preview updates
                            const previewInputs = ['transac-header-offer-text', 'transac-header-offer-button-text', 'transac-header-offer-background-color', 'transac-header-offer-text-color'];
                            previewInputs.forEach(inputId => {
                                const input = document.getElementById(inputId);
                                if (input) {
                                    input.addEventListener('input', updateHeaderOfferPreview);
                                }
                            });
                        }
                        
                        // Header Banner for Transacentory Manager
                        const headerBannerForm = document.getElementById('transac-header-banner-form');
                        if (headerBannerForm) {
                            headerBannerForm.addEventListener('submit', handleTransacHeaderBannerFormSubmit);
                            loadHeaderBannerSettings();
                            
                            // Add real-time preview updates for banner colors
                            const bannerColorInputs = [
                                'transac-contact-bg-color', 'transac-contact-text-color',
                                'transac-main-bg-color', 'transac-main-text-color',
                                'transac-nav-bg-color', 'transac-nav-text-color', 'transac-nav-hover-color',
                                'transac-search-border-color', 'transac-search-btn-color'
                            ];
                            bannerColorInputs.forEach(inputId => {
                                const input = document.getElementById(inputId);
                                if (input) {
                                    input.addEventListener('input', updateTransacHeaderBannerPreview);
                                }
                            });
                        }
                        
                        // Testimonials Design for Transacentory Manager
                        const testimonialsDesignForm = document.getElementById('transac-testimonials-design-form');
                        if (testimonialsDesignForm) {
                            testimonialsDesignForm.addEventListener('submit', handleTransacTestimonialsDesignFormSubmit);
                            loadTransacTestimonialsDesignSettings();
                            
                            // Add real-time preview updates for testimonials design
                            const designInputs = [
                                'transac-testimonials-theme', 'transac-testimonials-layout', 'transac-testimonials-per-row', 'transac-testimonials-animation',
                                'transac-testimonials-bg-color', 'transac-testimonials-text-color', 'transac-testimonials-accent-color', 'transac-testimonials-border-radius',
                                'transac-testimonials-show-rating', 'transac-testimonials-show-image', 'transac-testimonials-show-title', 'transac-testimonials-text-align'
                            ];
                            designInputs.forEach(inputId => {
                                const input = document.getElementById(inputId);
                                if (input) {
                                    if (input.type === 'checkbox') {
                                        input.addEventListener('change', updateTransacTestimonialsPreview);
                                    } else {
                                        input.addEventListener('input', updateTransacTestimonialsPreview);
                                    }
                                }
                            });
                        }
                    });
                    
                    // --- Gallery Management for Transacentory Manager ---
                    
                    // Fetch gallery images from backend
                    async function fetchTransacGalleryImages() {
                        const res = await fetch('/api/admin/gallery');
                        if (!res.ok) throw new Error('Failed to fetch gallery images');
                        return res.json();
                    }
                    
                    // Add a new gallery image
                    async function addTransacGalleryImage(formData) {
                        const res = await fetch('/api/admin/gallery', {
                            method: 'POST',
                            body: formData,
                        });
                        if (!res.ok) throw new Error('Failed to add gallery image');
                        return res.json();
                    }
                    
                    // Update a gallery image
                    async function updateTransacGalleryImage(id, formData) {
                        const res = await fetch(`/api/admin/gallery/${id}`, {
                            method: 'PUT',
                            body: formData,
                        });
                        if (!res.ok) throw new Error('Failed to update gallery image');
                        return res.json();
                    }
                    
                    // Delete a gallery image
                    async function deleteTransacGalleryImage(id) {
                        const res = await fetch(`/api/admin/gallery/${id}`, {
                            method: 'DELETE',
                        });
                        if (!res.ok) throw new Error('Failed to delete gallery image');
                        return res.json();
                    }
                    
                    // Render gallery images in the admin tab
                    async function renderTransacGalleryAdmin() {
                        const container = document.getElementById('transac-gallery-status');
                        if (!container) return;
                        
                        container.innerHTML = 'Loading...';
                        try {
                            const images = await fetchTransacGalleryImages();
                            if (images.length === 0) {
                                container.innerHTML = '<p>No gallery images yet.</p>';
                                return;
                            }
                            container.innerHTML = `
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5em;">
                                    ${images.map(img => `
                                        <div class="gallery-admin-item" style="border: 1px solid #ddd; padding: 1.5em; border-radius: 8px; background: white;">
                                            <div style="margin-bottom: 1em;">
                                                <img src="${img.mainImageUrl}" alt="${img.title}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 6px;">
                                            </div>
                                            <h4 style="margin: 0 0 0.5em 0; color: #333;">${img.title}</h4>
                                            <p style="margin: 0 0 0.5em 0; color: #666; font-size: 0.9em;"><strong>Category:</strong> ${img.category}</p>
                                            <p style="margin: 0 0 0.5em 0; color: #666; font-size: 0.9em;"><strong>Tags:</strong> ${img.tags ? img.tags.join(', ') : 'None'}</p>
                                            <p style="margin: 0 0 1em 0; color: #666; font-size: 0.9em;"><strong>Description:</strong> ${img.description || 'No description'}</p>
                                            
                                            <div style="margin-bottom: 1em;">
                                                <strong style="color: #333; font-size: 0.9em;">Thumbnails (${img.thumbnailUrls ? img.thumbnailUrls.length : 0}):</strong>
                                                <div style="display: flex; flex-wrap: wrap; gap: 0.5em; margin-top: 0.5em;">
                                                    ${img.thumbnailUrls && img.thumbnailUrls.length > 0 ? 
                                                        img.thumbnailUrls.map(thumb => `
                                                            <img src="${thumb}" alt="Thumbnail" style="width: 50px; height: 40px; object-fit: cover; border-radius: 4px; border: 1px solid #ddd;">
                                                        `).join('') : 
                                                        '<span style="color: #999; font-size: 0.8em;">No thumbnails</span>'
                                                    }
                                                </div>
                                            </div>
                                            
                                            <div style="display: flex; gap: 0.5em;">
                                                <button onclick="editTransacGalleryItem('${img.id}')" style="background: #007bff; color: white; border: none; padding: 0.5em 1em; border-radius: 4px; cursor: pointer; font-size: 0.9em;">Edit</button>
                                                <button onclick="deleteTransacGalleryHandler('${img.id}')" style="background: #dc3545; color: white; border: none; padding: 0.5em 1em; border-radius: 4px; cursor: pointer; font-size: 0.9em;">Delete</button>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            `;
                        } catch (err) {
                            container.innerHTML = '<p style="color:red">Error loading gallery images.</p>';
                        }
                    }
                    
                    // Edit gallery item - populate form with existing data
                    function editTransacGalleryItem(id) {
                        // This function will be implemented to populate the form with existing data
                        // For now, we'll show an alert
                        alert('Edit functionality will be implemented. Item ID: ' + id);
                    }
                    
                    // Handle gallery form submit
                    async function handleTransacGalleryFormSubmit(e) {
                        e.preventDefault();
                        const form = e.target;
                        const formData = new FormData(form);
                        
                        // Validate that main image is selected
                        const mainImage = formData.get('mainImage');
                        if (!mainImage || mainImage.size === 0) {
                            alert('Please select a main image.');
                            return;
                        }
                        
                        // Validate that title and category are provided
                        const title = formData.get('title');
                        const category = formData.get('category');
                        if (!title || !category) {
                            alert('Please provide a title and select a category.');
                            return;
                        }
                        
                        try {
                            await addTransacGalleryImage(formData);
                            form.reset();
                            // Clear thumbnail preview
                            const thumbnailPreview = document.getElementById('transac-thumbnail-preview-container');
                            if (thumbnailPreview) {
                                thumbnailPreview.innerHTML = '<span id="transac-no-thumbnails-text">No thumbnails selected</span>';
                            }
                            renderTransacGalleryAdmin();
                            alert('Gallery item added successfully!');
                        } catch (err) {
                            alert('Failed to add gallery item: ' + err.message);
                        }
                    }
                    
                    // Delete gallery handler
                    async function deleteTransacGalleryHandler(id) {
                        if (!confirm('Are you sure you want to delete this gallery item? This action cannot be undone.')) return;
                        try {
                            await deleteTransacGalleryImage(id);
                            renderTransacGalleryAdmin();
                            alert('Gallery item deleted successfully!');
                        } catch (err) {
                            alert('Failed to delete gallery item: ' + err.message);
                        }
                    }
                    
                    // Thumbnail preview functionality for Transacentory Manager
                    function setupTransacThumbnailPreview() {
                        const thumbnailInput = document.getElementById('transac-gallery-thumbnails');
                        if (thumbnailInput) {
                            thumbnailInput.addEventListener('change', function(e) {
                                const files = e.target.files;
                                const previewContainer = document.getElementById('transac-thumbnail-preview-container');
                                const noThumbnailsText = document.getElementById('transac-no-thumbnails-text');
                                
                                if (files.length > 0) {
                                    // Hide "no thumbnails" text
                                    if (noThumbnailsText) noThumbnailsText.style.display = 'none';
                                    
                                    // Clear existing preview
                                    previewContainer.innerHTML = '';
                                    
                                    // Show preview for each selected file
                                    Array.from(files).forEach((file, index) => {
                                        if (index >= 8) return; // Limit to 8 images
                                        
                                        const reader = new FileReader();
                                        reader.onload = function(e) {
                                            const img = document.createElement('img');
                                            img.src = e.target.result;
                                            img.style.width = '80px';
                                            img.style.height = '60px';
                                            img.style.objectFit = 'cover';
                                            img.style.borderRadius = '4px';
                                            img.style.border = '1px solid #ddd';
                                            img.alt = `Thumbnail ${index + 1}`;
                                            previewContainer.appendChild(img);
                                        };
                                        reader.readAsDataURL(file);
                                    });
                                    
                                    // Show count
                                    const countText = document.createElement('div');
                                    countText.style.width = '100%';
                                    countText.style.textAlign = 'center';
                                    countText.style.marginTop = '0.5em';
                                    countText.style.fontSize = '0.8em';
                                    countText.style.color = '#666';
                                    countText.textContent = `${files.length} thumbnail(s) selected`;
                                    previewContainer.appendChild(countText);
                                } else {
                                    // Show "no thumbnails" text
                                    if (noThumbnailsText) noThumbnailsText.style.display = 'block';
                                    previewContainer.innerHTML = '<span id="transac-no-thumbnails-text">No thumbnails selected</span>';
                                }
                            });
                        }
                    }
                    
                    // Gallery form for Transacentory Manager
                    const transacGalleryForm = document.getElementById('transac-gallery-form');
                    if (transacGalleryForm) {
                        transacGalleryForm.addEventListener('submit', handleTransacGalleryFormSubmit);
                        renderTransacGalleryAdmin();
                        setupTransacThumbnailPreview(); // Initialize thumbnail preview
                    }
                </script>
            </div>
        </div>
    </div>
</body>
</html> 