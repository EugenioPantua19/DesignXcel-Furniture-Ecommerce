<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Management - Admin</title>
    <link rel="stylesheet" href="/css/Employee/Admin/AdminIndexStyles.css">
    <link rel="stylesheet" href="/css/dark-mode.css">
    <style>
        /* Custom Confirmation Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            visibility: hidden; /* Hidden by default */
            opacity: 0;
            transition: visibility 0s, opacity 0.3s ease;
        }

        .modal-overlay.show {
            visibility: visible;
            opacity: 1;
        }

        .modal-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.show .modal-content {
            transform: scale(1);
        }

        .modal-content h3 {
            margin-top: 0;
            color: #333;
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .modal-content p {
            color: #555;
            font-size: 1.1em;
            margin-bottom: 30px;
        }

        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .modal-button {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background-color 0.3s, color 0.3s;
        }

        .modal-button.confirm {
            background-color: #dc3545;
            color: white;
        }

        .modal-button.confirm:hover {
            background-color: #c82333;
        }

        .modal-button.cancel {
            background-color: #f0f0f0;
            color: #555;
            border: 1px solid #ccc;
        }

        .modal-button.cancel:hover {
            background-color: #e0e0e0;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        .sidebar-menu {
            flex-grow: 1;
        }
        .logout-section {
            padding: 40px;
            border-top: 1px solid #ddd;
            margin-top: auto;
            text-align: center;
        }
        .logout-button {
            display: inline-block;
            width: auto;
            padding: 12px 25px;
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .logout-button:hover {
            background-color: #c82333;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h3>Admin Panel</h3>
            </div>
            <ul class="sidebar-menu">
                <li><a href="/Employee/AdminManager">Dashboard</a></li>
                <li class="sidebar-section-label">Inventory</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Admin/Products">Products</a></li>
                    <li><a href="/Employee/Admin/Variations">Variations</a></li>
                    <li><a href="/Employee/Admin/RawMaterials">Raw Materials</a></li>
                    <li><a href="/Employee/Admin/Alerts">Alerts</a></li>
                    <li><a href="/Employee/Admin/Archived">Archived items</a></li>
                </ul>
                <li class="sidebar-section-label">Transactions</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Admin/DeliveryRates">Delivery Rates</a></li>
                    <li><a href="/Employee/Admin/WalkIn">Walk In</a></li>
                </ul>
                
                <!-- Orders Section -->
                <li class="sidebar-section-label" style="font-weight:normal;">Orders Section</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Admin/OrdersPending">Pending Orders</a></li>
                    <li><a href="/Employee/Admin/OrdersProcessing">In Process</a></li>
                    <li><a href="/Employee/Admin/OrdersShipping">Shipping</a></li>
                    <li><a href="/Employee/Admin/OrdersDelivery">On Delivery</a></li>
                    <li><a href="/Employee/Admin/OrdersReceive">To Receive</a></li>
                    <li><a href="/Employee/Admin/CancelledOrders">Cancelled Orders</a></li>
                    <li><a href="/Employee/Admin/CompletedOrders">Completed Orders</a></li>
                </ul>
                <!-- User Management Section -->
                <li class="sidebar-section-label" style="font-weight:normal;">User Management</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Admin/ManageUsers">Manage Users</a></li>
                </ul>
                
                <!-- Customer Reviews Section -->
                <li class="sidebar-section-label" style="font-weight:normal;">Customer Reviews</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Admin/Reviews">Reviews</a></li>
                </ul>
                
                <!-- Support & Communication Section -->
                <li class="sidebar-section-label" style="font-weight:normal;">Support & Communication</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Admin/ChatSupport">Chat Support</a></li>
                </ul>
                
                <!-- Content & System Section -->
                <li class="sidebar-section-label" style="font-weight:normal;">Content & System</li>
                <ul class="sidebar-submenu" style="display:block;">
                    <li><a href="/Employee/Admin/CMS">Content Management</a></li>
                    <li><a href="/Employee/Admin/Logs">Activity Logs</a></li>
                </ul>
            </ul>
            <div class="logout-section">
                <a href="/logout" class="logout-button" onclick="handleLogout(event)">Logout</a>
            </div>
        </div>
        <div class="main-content">
            <div class="header">
                <h2>Content Management</h2>
            </div>
            <div class="content-area">
                <!-- Tab Navigation -->
                <div class="cms-tabs">
                    <button class="cms-tab-btn" onclick="showTab('banner')" id="tab-banner">Header Banner</button>
                    <button class="cms-tab-btn" onclick="showTab('hero-banner')" id="tab-hero-banner">Hero Banner</button>
                    <button class="cms-tab-btn" onclick="showTab('products')" id="tab-products">Products</button>
                    <button class="cms-tab-btn" onclick="showTab('testimonials')" id="tab-testimonials">Testimonials</button>
                    <button class="cms-tab-btn" onclick="showTab('offer')" id="tab-offer">Offer</button>
                    <button class="cms-tab-btn" onclick="showTab('projects')" id="tab-projects">Projects</button>
                    <button class="cms-tab-btn" onclick="showTab('about')" id="tab-about">About Us</button>
                    <button class="cms-tab-btn" onclick="showTab('auto-messages')" id="tab-auto-messages">Auto. Messages</button>
                    <button class="cms-tab-btn" onclick="showTab('terms')" id="tab-terms">Terms & Conditions</button>
                    <button class="cms-tab-btn" onclick="showTab('theme')" id="tab-theme">Theme</button>
                    <button class="cms-tab-btn" onclick="showTab('messages')" id="tab-messages">Messages</button>
                </div>
                <!-- Tab Content -->
                <div class="cms-tab-content" id="tab-content-hero-banner">
                    <h3>Hero Banner Management</h3>
                    <div class="cms-section-content">
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #17a2b8;">
                            <h4 style="margin-top: 0; color: #0c5460;">üéØ Hero Banner Content & Image</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Customize the main hero banner that appears at the top of your homepage.</p>
                            
                            <form id="hero-banner-form" enctype="multipart/form-data" style="margin-bottom: 2em;">
                                <!-- Hero Banner Image -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Hero Banner Image</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="hero-banner-images">Upload Images (1-3 images):</label><br>
                                        <input type="file" id="hero-banner-images" name="heroBannerImages" accept="image/*" multiple style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                        <small style="color: #666; display: block; margin-top: 0.5em;">Recommended size: 1920x600 or larger. Upload 1-3 images for a rotating hero banner. Will be displayed as the background of your hero section.</small>
                                    </div>
                                    <div id="current-hero-images" style="margin-top: 1em;">
                                        <h6>Current Hero Images:</h6>
                                        <div id="hero-images-preview" style="border: 1px solid #ddd; padding: 1em; border-radius: 4px; min-height: 100px; display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 10px;">
                                            <span id="no-hero-images-text">No hero images set</span>
                                            <div id="hero-images-container" style="display: none; width: 100%;">
                                                <!-- Images will be dynamically added here -->
                                            </div>
                                        </div>
                                        <button id="remove-hero-images-btn" onclick="removeHeroBannerImages()" style="background: #dc3545; color: white; border: none; padding: 0.5em 1em; border-radius: 4px; cursor: pointer; margin-top: 0.5em; display: none;">Remove All Hero Images</button>
                                    </div>
                                </div>
                                
                                <!-- Hero Banner Content -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üìù Hero Banner Content</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="hero-main-heading">Main Heading:</label><br>
                                        <input type="text" id="hero-main-heading" name="mainHeading" placeholder="Premium Office Furniture Solutions" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="hero-description-line1">Description Line 1:</label><br>
                                        <input type="text" id="hero-description-1" name="descriptionLine1" placeholder="Transform your workspace with our premium collection of office furniture" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="hero-description-line2">Description Line 2:</label><br>
                                        <input type="text" id="hero-description-2" name="descriptionLine2" placeholder="Discover our premium collection of office furniture designed for modern professionals" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="hero-button-text">Button Text:</label><br>
                                        <input type="text" id="hero-button-text" name="buttonText" placeholder="SHOP NOW" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="hero-button-link">Button Link:</label><br>
                                        <input type="text" id="hero-button-link" name="buttonLink" placeholder="/products" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="hero-button2-text">Second Button Text:</label><br>
                                        <input type="text" id="hero-button2-text" name="button2Text" placeholder="Custom Design" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="hero-button2-link">Second Button Link:</label><br>
                                        <input type="text" id="hero-button2-link" name="button2Link" placeholder="/custom-furniture" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                </div>
                                
                                <!-- Hero Banner Colors -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üé® Hero Banner Colors</h5>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                        <div>
                                            <label for="hero-text-color">Text Color:</label><br>
                                            <input type="color" id="hero-text-color" name="textColor" value="#ffffff" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                        <div>
                                            <label for="hero-button-bg-color">Button Background Color:</label><br>
                                            <input type="color" id="hero-button-bg-color" name="buttonBgColor" value="#ffc107" style="width: 100%; height: 40px; padding: 0.5em;">
                                        </div>
                                    </div>
                                    <div style="margin-top: 15px;">
                                        <label for="hero-button-text-color">Button Text Color:</label><br>
                                        <input type="color" id="hero-button-text-color" name="buttonTextColor" value="#333333" style="width: 100%; height: 40px; padding: 0.5em;">
                                    </div>
                                    <div style="margin-top: 15px;">
                                        <label for="hero-button2-bg-color">Second Button Background Color:</label><br>
                                        <input type="color" id="hero-button2-bg-color" name="button2BgColor" value="#6c757d" style="width: 100%; height: 40px; padding: 0.5em;">
                                    </div>
                                    <div style="margin-top: 15px;">
                                        <label for="hero-button2-text-color">Second Button Text Color:</label><br>
                                        <input type="color" id="hero-button2-text-color" name="button2TextColor" value="#ffffff" style="width: 100%; height: 40px; padding: 0.5em;">
                                    </div>
                                </div>
                                
                                <button type="submit" style="background: #17a2b8; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Save Hero Banner Settings</button>
                            </form>
                            
                            <!-- Live Preview Section -->
                            <div style="margin-top: 2em;">
                                <h5 style="color: #0c5460;">üëÅÔ∏è Live Preview</h5>
                                <div id="hero-banner-preview" style="border: 2px solid #ddd; border-radius: 8px; overflow: hidden; min-height: 400px; position: relative; background: linear-gradient(135deg, #6c757d 0%, #ffc107 100%);">
                                    <!-- Background Image Slider -->
                                    <div id="preview-hero-carousel" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-size: cover; background-position: center; background-repeat: no-repeat; transition: opacity 0.5s ease-in-out;"></div>
                                    
                                    <!-- Background Overlay -->
                                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.3) 100%); z-index: 1;"></div>
                                    
                                    <!-- Hero Content -->
                                    <div style="position: relative; z-index: 2; padding: 3rem 2rem; text-align: center; color: white; display: flex; align-items: center; justify-content: center; min-height: 400px;">
                                        <div style="max-width: 800px;">
                                            <h1 id="preview-hero-heading" style="font-size: 2.5rem; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.7); line-height: 1.2;">
                                                <span id="preview-hero-main-text">Transform Your Workspace with</span><br>
                                                <span id="preview-hero-highlight" style="color: #F0B21B; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">Premium Office Furniture</span>
                                            </h1>
                                            <p id="preview-hero-desc-1" style="font-size: 1.25rem; margin-bottom: 1rem; opacity: 0.95; text-shadow: 1px 1px 3px rgba(0,0,0,0.6); max-width: 700px; margin-left: auto; margin-right: auto;">Discover our curated collection of ergonomic chairs, modern desks, and storage solutions designed to enhance productivity and comfort in your office.</p>
                                            <p id="preview-hero-desc-2" style="font-size: 1.1rem; margin-bottom: 2rem; opacity: 0.9; text-shadow: 1px 1px 3px rgba(0,0,0,0.6); max-width: 700px; margin-left: auto; margin-right: auto;">Designed for modern professionals who demand excellence in every detail.</p>
                                            <div style="display: flex; align-items: center; gap: 24px; justify-content: center; flex-wrap: wrap;">
                                                <button id="preview-hero-button-1" style="background: #F0B21B; color: #333; border: 2px solid rgba(255, 255, 255, 0.3); padding: 1rem 2rem; border-radius: 12px; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(240, 178, 27, 0.3);">Shop Now</button>
                                                <button id="preview-hero-button-2" style="background: #6c757d; color: #fff; border: 2px solid rgba(255, 255, 255, 0.3); padding: 1rem 2rem; border-radius: 12px; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);">Custom Design</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Arrow Navigation -->
                                    <button id="preview-arrow-left" style="position: absolute; top: 50%; left: 30px; transform: translateY(-50%); width: 48px; height: 48px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); border: 2px solid rgba(255, 255, 255, 0.3); color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 3; backdrop-filter: blur(10px);" onclick="switchCarouselImage((currentCarouselIndex - 1 + (window.currentHeroImages ? window.currentHeroImages.length : 1)) % (window.currentHeroImages ? window.currentHeroImages.length : 1))">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M15 18L9 12L15 6" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                                        </svg>
                                    </button>
                                    
                                    <button id="preview-arrow-right" style="position: absolute; top: 50%; right: 30px; transform: translateY(-50%); width: 48px; height: 48px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); border: 2px solid rgba(255, 255, 255, 0.3); color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 3; backdrop-filter: blur(10px);" onclick="switchCarouselImage((currentCarouselIndex + 1) % (window.currentHeroImages ? window.currentHeroImages.length : 1))">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9 18L15 12L9 6" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                                        </svg>
                                    </button>
                                    
                                    <!-- Minimal Slider Indicators -->
                                    <div id="preview-carousel-dots" style="position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 3; display: flex; gap: 8px;"></div>
                                </div>
                            </div>
                            
                            <div id="hero-banner-status-message"></div>
                        </div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-banner">
                    <h3>Header Banner Management</h3>
                    <div class="cms-section-content">
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #007bff;">
                            <h4 style="margin-top: 0; color: #004085;">Header Color Customization</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Customize the colors of different header sections to match your brand.</p>
                            <div style="background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 4px; padding: 0.75em; margin-bottom: 1.5em;">
                                <strong>üí° Note:</strong> Changes will be applied to the frontend automatically. The frontend checks for updates every 30 seconds, or you can refresh the frontend page to see changes immediately.
                            </div>
                            
                            <form id="header-banner-form" style="margin-bottom: 2em;">
                                
                                <!-- TOP ROW: Contact Information Bar -->
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #007bff;">
                                    <h4 style="margin-top: 0; color: #007bff; display: flex; align-items: center; gap: 8px;">
                                        üìû Top Contact Bar
                                        <small style="color: #6c757d; font-weight: normal;">(Top row of header)</small>
                                    </h4>
                                    
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1em; margin-bottom: 1em;">
                                        <div>
                                            <label for="contact-email">üìß Email Address:</label><br>
                                            <input type="email" id="contact-email" name="contactEmail" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px;">
                                        </div>
                                        <div>
                                            <label for="contact-phone">üì± Phone Number:</label><br>
                                            <input type="tel" id="contact-phone" name="contactPhone" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px;">
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 1em;">
                                        <label for="contact-address">üìç Address:</label><br>
                                        <textarea id="contact-address" name="contactAddress" rows="2" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px; resize: vertical;"></textarea>
                                    </div>
                                    
                                    <!-- Contact Bar Styling -->
                                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1em; margin-bottom: 1em;">
                                        <div>
                                            <label for="contact-bg-color">üé® Background Color:</label><br>
                                            <input type="color" id="contact-bg-color" name="contactBgColor" style="width: 100%; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                        </div>
                                        <div>
                                            <label for="contact-text-color">üìù Text Color:</label><br>
                                            <input type="color" id="contact-text-color" name="contactTextColor" style="width: 100%; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                        </div>
                                        <div>
                                            <label for="contact-icon-color">üîó Icon Color:</label><br>
                                            <input type="color" id="contact-icon-color" name="contactIconColor" style="width: 100%; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                        </div>
                                    </div>
                                    
                                    <!-- Contact Display Settings -->
                                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1em;">
                                        <div>
                                            <label for="contact-font-size">üìè Font Size:</label><br>
                                            <select id="contact-font-size" name="contactFontSize" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px;">
                                                <option value="0.5rem">Extra Small (0.5rem)</option>
                                                <option value="0.6rem">Small (0.6rem)</option>
                                                <option value="0.7rem">Medium (0.7rem)</option>
                                                <option value="0.8rem">Large (0.8rem)</option>
                                                <option value="0.9rem">Extra Large (0.9rem)</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label for="contact-spacing">üìê Spacing:</label><br>
                                            <select id="contact-spacing" name="contactSpacing" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px;">
                                                <option value="0.5rem">Tight (0.5rem)</option>
                                                <option value="0.8rem">Normal (0.8rem)</option>
                                                <option value="1rem">Loose (1rem)</option>
                                                <option value="1.2rem">Extra Loose (1.2rem)</option>
                                            </select>
                                        </div>
                                        <div style="display: flex; align-items: end;">
                                            <label style="display: flex; align-items: center; gap: 0.5em; margin-bottom: 0;">
                                                <input type="checkbox" id="contact-show-icons" name="contactShowIcons" checked style="margin: 0;">
                                                üëÅÔ∏è Show Icons
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- MAIN ROW: Logo and Navigation -->
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #28a745;">
                                    <h4 style="margin-top: 0; color: #28a745; display: flex; align-items: center; gap: 8px;">
                                        üè¢ Main Header Row
                                        <small style="color: #6c757d; font-weight: normal;">(Center row with logo and navigation)</small>
                                    </h4>
                                    
                                    <!-- Company Logo Section -->
                                    <div style="background: white; padding: 15px; border-radius: 6px; margin-bottom: 1em; border: 1px solid #e9ecef;">
                                        <h5 style="margin-top: 0; color: #495057;">üè¢ Company Logo</h5>
                                        <div style="display: flex; gap: 1em; margin-bottom: 1em;">
                                            <div style="flex: 1;">
                                                <label for="logo-upload">üìÅ Upload Logo Image:</label><br>
                                                <input type="file" id="logo-upload" name="logoUpload" accept="image/*" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px;">
                                                <small style="color: #6c757d;">Recommended: 200x60px, PNG/JPG format</small>
                                            </div>
                                            <div style="flex: 1;">
                                                <label for="logo-url">üåê Logo URL:</label><br>
                                                <input type="url" id="logo-url" name="logoUrl" placeholder="Or enter logo URL" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px;">
                                            </div>
                                        </div>
                                        <div id="logo-preview" style="margin-top: 10px;">
                                            <label>üëÅÔ∏è Current Logo Preview:</label><br>
                                            <img id="logo-preview-image" src="/design-excellence-logo.png" alt="Logo Preview" style="max-height: 60px; max-width: 200px; border: 1px solid #ddd; padding: 5px; background: white;">
                                        </div>
                                    </div>
                                    
                                    <!-- Main Row Background -->
                                    <div>
                                        <label for="main-bg-color">üé® Main Row Background Color:</label><br>
                                        <input type="color" id="main-bg-color" name="mainBgColor" style="width: 200px; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                    </div>
                                </div>
                                
                                <!-- NAVIGATION BAR -->
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #ffc107;">
                                    <h4 style="margin-top: 0; color: #e67e22; display: flex; align-items: center; gap: 8px;">
                                        üß≠ Navigation Bar
                                        <small style="color: #6c757d; font-weight: normal;">(Bottom navigation menu)</small>
                                    </h4>
                                    
                                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1em;">
                                        <div>
                                            <label for="nav-bg-color">üé® Background Color:</label><br>
                                            <input type="color" id="nav-bg-color" name="navBgColor" style="width: 100%; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                        </div>
                                        <div>
                                            <label for="nav-text-color">üìù Text Color:</label><br>
                                            <input type="color" id="nav-text-color" name="navTextColor" style="width: 100%; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                        </div>
                                        <div>
                                            <label for="nav-hover-color">üñ±Ô∏è Hover Color:</label><br>
                                            <input type="color" id="nav-hover-color" name="navHoverColor" style="width: 100%; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- RIGHT SIDE: Search Bar and Icons -->
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #dc3545;">
                                    <h4 style="margin-top: 0; color: #dc3545; display: flex; align-items: center; gap: 8px;">
                                        üîç Search Bar & Icons
                                        <small style="color: #6c757d; font-weight: normal;">(Right side of main row)</small>
                                    </h4>
                                    
                                    <!-- Search Bar Settings -->
                                    <div style="background: white; padding: 15px; border-radius: 6px; margin-bottom: 1em; border: 1px solid #e9ecef;">
                                        <h5 style="margin-top: 0; color: #495057;">üîç Search Bar</h5>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1em;">
                                            <div>
                                                <label for="search-placeholder">üìù Placeholder Text:</label><br>
                                                <input type="text" id="search-placeholder" name="searchPlaceholder" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 4px;">
                                            </div>
                                            <div>
                                                <label for="search-border-color">üé® Border Color:</label><br>
                                                <input type="color" id="search-border-color" name="searchBorderColor" style="width: 100%; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Icon Colors -->
                                    <div>
                                        <label for="icon-color">üé® Icon Colors (Search, User, Cart, Orders):</label><br>
                                        <input type="color" id="icon-color" name="iconColor" style="width: 200px; height: 40px; border: 1px solid #ddd; border-radius: 4px;">
                                    </div>
                                </div>
                                
                                

                                
                                <!-- Action Buttons -->
                                <div style="display: flex; gap: 1em; margin-top: 2em; padding-top: 1em; border-top: 2px solid #e9ecef;">
                                    <button type="submit" style="background: #007bff; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 0.5em;">
                                        üíæ Save Header Settings
                                    </button>
                                    <button type="button" onclick="loadHeaderBannerSettings()" style="background: #28a745; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 0.5em;">
                                        üîÑ Reload Settings
                                    </button>
                                    <button type="button" onclick="restoreDefaultHeaderSettings()" style="background: #dc3545; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 0.5em;">
                                        üîÑ Restore Default
                                    </button>
                                </div>
                            </form>
                            
                            <!-- Preview Section -->
                            <div style="margin-top: 2em;">
                                <h5 style="color: #495057;">üé® Live Preview - Actual Frontend Header</h5>
                                <div id="header-preview" style="border: 2px solid #ddd; border-radius: 8px; overflow: hidden; background: #f8f9fa;">
                                    <!-- Main Header Row - Exact replica of frontend -->
                                    <div id="preview-main-row" style="display: flex; align-items: center; justify-content: center; padding: 0.1rem 1.5vw 0.05rem 1.5vw; background: #fff; position: relative;">
                                        <!-- Left Section - Contact Info -->
                                        <div id="preview-main-left" style="display: flex; align-items: center; gap: 0.8rem; font-size: 0.6rem; color: #6c757d; font-family: 'Neue Helvetica', 'Helvetica Neue', Helvetica, Arial, sans-serif; flex-wrap: nowrap; white-space: nowrap;">
                                            <span id="preview-email" style="display: flex; align-items: center; gap: 0.3rem;">
                                                <svg style="color: #F0B21B; font-size: 0.8rem; width: 12px; height: 12px; fill: currentColor;" viewBox="0 0 512 512">
                                                    <path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/>
                                                </svg>
                                                designexcellence1@gmail.com
                                            </span>
                                            <span id="preview-phone" style="display: flex; align-items: center; gap: 0.3rem;">
                                                <svg style="color: #F0B21B; font-size: 0.8rem; width: 12px; height: 12px; fill: currentColor;" viewBox="0 0 512 512">
                                                    <path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/>
                                                </svg>
                                                (02) 413-6682
                                            </span>
                                            <span id="preview-address" style="display: flex; align-items: center; gap: 0.3rem;">
                                                <svg style="color: #F0B21B; font-size: 0.8rem; width: 12px; height: 12px; fill: currentColor;" viewBox="0 0 384 512">
                                                    <path d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/>
                                                </svg>
                                                #1 Binmaka Street Cor. Biak na Bato Brgy. Manresa, Quezon City
                                            </span>
                                        </div>
                                        
                                        <!-- Center Section - Logo -->
                                        <div id="preview-main-center" style="flex: 1; text-align: center; margin: 0 2rem;">
                                            <div id="preview-logo-container" style="display: flex; align-items: center; justify-content: center; min-height: 50px;">
                                                <img id="preview-logo" src="/design-excellence-logo.png" alt="Design Excellence Logo" style="max-height: 50px; max-width: 200px; object-fit: contain; display: block;">
                                        </div>
                                            </div>
                                        
                                        <!-- Right Section - Icons and Search -->
                                        <div id="preview-main-right" style="display: flex; align-items: center; gap: 0.8rem;">
                                            <!-- User Icon -->
                                            <div style="width: 32px; height: 32px; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                <svg style="color: #F0B21B; font-size: 1rem; width: 16px; height: 16px; fill: currentColor;" viewBox="0 0 448 512">
                                                    <path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/>
                                                </svg>
                                        </div>
                                            
                                            <!-- Cart Icon -->
                                            <div style="width: 32px; height: 32px; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                <svg style="color: #F0B21B; font-size: 1rem; width: 16px; height: 16px; fill: currentColor;" viewBox="0 0 576 512">
                                                    <path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/>
                                                </svg>
                                    </div>
                                    
                                            <!-- Orders Icon -->
                                            <div style="width: 32px; height: 32px; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                <svg style="color: #F0B21B; font-size: 1rem; width: 16px; height: 16px; fill: currentColor;" viewBox="0 0 512 512">
                                                    <path d="M40 48C26.7 48 16 58.7 16 72V440c0 13.3 10.7 24 24 24H72c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM112 72c0-13.3 10.7-24 24-24H456c13.3 0 24 10.7 24 24V440c0 13.3-10.7 24-24 24H136c-13.3 0-24-10.7-24-24V72zM160 120c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16zm0 64c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16z"/>
                                                </svg>
                                            </div>
                                            
                                            <!-- Search Container -->
                                            <div id="preview-search-container" style="display: flex; align-items: center; background: #ffffff; border: 2px solid #ffc107; border-radius: 20px; padding: 6px 12px; width: 200px; height: 36px;">
                                                <svg id="preview-search-icon" style="color: #F0B21B; font-size: 0.9rem; margin-right: 6px; width: 14px; height: 14px; fill: currentColor;" viewBox="0 0 512 512">
                                                    <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>
                                                </svg>
                                                <input type="text" id="preview-search-input" placeholder="Search" style="border: none; outline: none; background: transparent; font-size: 0.85rem; color: #333333; flex: 1; padding: 2px 0;" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Navigation Bar - Exact replica of frontend -->
                                    <div id="preview-nav-bar" style="background: #F0B21B; display: flex; justify-content: center; align-items: center; gap: 1.2rem; padding: 0.15rem 0; font-weight: 500; font-size: 0.7rem; letter-spacing: 0.2px; height: 28px;">
                                        <span style="color: #333; text-decoration: none; padding: 0.2rem 0.5rem; border-radius: 3px; transition: all 0.3s ease;">HOME</span>
                                        <span style="color: #333; text-decoration: none; padding: 0.2rem 0.5rem; border-radius: 3px; transition: all 0.3s ease;">PRODUCTS</span>
                                        <span style="color: #333; text-decoration: none; padding: 0.2rem 0.5rem; border-radius: 3px; transition: all 0.3s ease;">PROJECTS</span>
                                        <span style="color: #333; text-decoration: none; padding: 0.2rem 0.5rem; border-radius: 3px; transition: all 0.3s ease;">CUSTOM FURNITURE</span>
                                        <span style="color: #333; text-decoration: none; padding: 0.2rem 0.5rem; border-radius: 3px; transition: all 0.3s ease;">ABOUT US</span>
                                        <span style="color: #333; text-decoration: none; padding: 0.2rem 0.5rem; border-radius: 3px; transition: all 0.3s ease;">CONTACT US</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="header-banner-status-message"></div>
                        </div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-products" style="display:none;">
                    <h3>Products</h3>
                    <div class="cms-section-content">
                        <table id="products-table" border="1" style="width:100%;margin-bottom:1em;">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Featured</th>
                                    <th>Remove</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                        <div id="products-status"></div>
                        
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-testimonials" style="display:none;">
                    <h3>Testimonials</h3>
                    <div class="cms-section-content">
                        <!-- Modern Testimonials Design Settings -->
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #F0B21B;">
                            <h4 style="margin-top: 0; color: #d69e16;">üé® Modern Testimonials Design Settings</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Customize the modern testimonials design with clean cards, professional layout, and yellow mustard accents.</p>
                            
                            <form id="testimonials-design-form" style="margin-bottom: 2em;">
                                <!-- Simplified Design Settings - Only what's actually used -->
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div>
                                        <label for="testimonials-bg-color">Section Background Color:</label><br>
                                        <input type="color" id="testimonials-bg-color" name="bgColor" value="#f8f9fa" style="width: 100%; height: 40px; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div>
                                        <label for="testimonials-accent-color">Accent Color (Yellow Mustard):</label><br>
                                        <input type="color" id="testimonials-accent-color" name="accentColor" value="#F0B21B" style="width: 100%; height: 40px; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                </div>
                                
                                <div style="margin-bottom: 20px;">
                                    <label>Display Options:</label><br>
                                    <div style="margin-top: 0.5em; display: flex; flex-wrap: wrap; gap: 15px;">
                                        <label style="display: inline-flex; align-items: center;">
                                            <input type="checkbox" id="testimonials-show-rating" name="showRating" checked style="margin-right: 8px;">
                                            Show Star Ratings
                                        </label>
                                        <label style="display: inline-flex; align-items: center;">
                                            <input type="checkbox" id="testimonials-show-image" name="showImage" checked style="margin-right: 8px;">
                                            Show Profile Images
                                        </label>
                                        <label style="display: inline-flex; align-items: center;">
                                            <input type="checkbox" id="testimonials-show-title" name="showTitle" checked style="margin-right: 8px;">
                                            Show Professions
                                        </label>
                                        <label style="display: inline-flex; align-items: center;">
                                            <input type="checkbox" id="testimonials-show-quote-icon" name="showQuoteIcon" checked style="margin-right: 8px;">
                                            Show Quote Icons
                                        </label>
                                    </div>
                                </div>
                                
                                <button type="submit" style="background: #F0B21B; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Save Testimonials Settings</button>
                            </form>
                            
                            <!-- Live Preview Section -->
                            <div style="margin-top: 2em;">
                                <h5 style="color: #d69e16; margin-bottom: 1em;">üëÅÔ∏è Live Design Preview</h5>
                                <div id="testimonials-preview" style="border: 1px solid #e5e7eb; border-radius: 12px; padding: 0; background: #f8f9fa; overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);">
                                    <div id="testimonials-preview-content" style="padding: 80px 20px; max-width: 1200px; margin: 0 auto;">
                                        <!-- Modern testimonials preview - Exact match to frontend -->
                                        <div style="text-align: center; margin-bottom: 60px;">
                                            <div style="display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 16px;">
                                                <div style="width: 40px; height: 2px; background: #F0B21B; border-radius: 1px;"></div>
                                                <span style="font-size: 14px; font-weight: 600; color: #6b7280; letter-spacing: 0.5px; text-transform: uppercase;">Testimonial</span>
                                            </div>
                                            <h2 style="font-size: 48px; font-weight: 700; color: #1f2937; margin: 0; line-height: 1.2;">
                                                What Our <span style="color: #F0B21B;">Clients Say</span>
                                            </h2>
                                        </div>
                                        
                                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px; margin-bottom: 40px;">
                                            <!-- Testimonial Card 1 -->
                                            <div style="background: #ffffff; border-radius: 16px; padding: 32px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); position: relative; transition: all 0.3s ease; border: 1px solid rgba(0, 0, 0, 0.05);">
                                                <!-- Quote Icon -->
                                                <div style="position: absolute; top: 24px; right: 24px; width: 40px; height: 40px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #F0B21B; font-size: 16px;">"</div>
                                                
                                                <!-- Client Profile -->
                                                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 24px;">
                                                    <div style="position: relative; flex-shrink: 0;">
                                                        <div style="position: absolute; top: -8px; left: -8px; width: 80px; height: 80px; background: #F0B21B; border-radius: 50% 50% 50% 0; z-index: 1;"></div>
                                                        <div style="width: 64px; height: 64px; border-radius: 50%; background: #e5e7eb; border: 3px solid #F0B21B; position: relative; z-index: 2; display: flex; align-items: center; justify-content: center; color: #6b7280; font-size: 24px; font-weight: bold; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">üë§</div>
                                                    </div>
                                                    <div style="flex: 1;">
                                                        <h4 style="font-size: 18px; font-weight: 700; color: #1f2937; margin: 0 0 4px 0; line-height: 1.3;">Leslie Alexander</h4>
                                                        <p style="font-size: 14px; color: #6b7280; margin: 0 0 8px 0; font-weight: 500;">Architecture</p>
                                                        <div style="display: flex; align-items: center; gap: 8px;">
                                                            <div style="display: flex; gap: 2px;">
                                                                <span style="color: #F0B21B; font-size: 14px;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                                            </div>
                                                            <span style="font-size: 14px; font-weight: 600; color: #1f2937;">5.0</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- Testimonial Text -->
                                                <div style="margin-top: 20px;">
                                                    <p style="font-size: 16px; line-height: 1.6; color: #374151; margin: 0; font-style: italic;">"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis."</p>
                                                </div>
                                            </div>
                                            
                                            <!-- Testimonial Card 2 -->
                                            <div style="background: #ffffff; border-radius: 16px; padding: 32px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); position: relative; transition: all 0.3s ease; border: 1px solid rgba(0, 0, 0, 0.05);">
                                                <!-- Quote Icon -->
                                                <div style="position: absolute; top: 24px; right: 24px; width: 40px; height: 40px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #F0B21B; font-size: 16px;">"</div>
                                                
                                                <!-- Client Profile -->
                                                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 24px;">
                                                    <div style="position: relative; flex-shrink: 0;">
                                                        <div style="position: absolute; top: -8px; left: -8px; width: 80px; height: 80px; background: #F0B21B; border-radius: 50% 50% 50% 0; z-index: 1;"></div>
                                                        <div style="width: 64px; height: 64px; border-radius: 50%; background: #e5e7eb; border: 3px solid #F0B21B; position: relative; z-index: 2; display: flex; align-items: center; justify-content: center; color: #6b7280; font-size: 24px; font-weight: bold; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">üë§</div>
                                                    </div>
                                                    <div style="flex: 1;">
                                                        <h4 style="font-size: 18px; font-weight: 700; color: #1f2937; margin: 0 0 4px 0; line-height: 1.3;">Jenny Wilson</h4>
                                                        <p style="font-size: 14px; color: #6b7280; margin: 0 0 8px 0; font-weight: 500;">Interior Designer</p>
                                                        <div style="display: flex; align-items: center; gap: 8px;">
                                                            <div style="display: flex; gap: 2px;">
                                                                <span style="color: #F0B21B; font-size: 14px;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                                            </div>
                                                            <span style="font-size: 14px; font-weight: 600; color: #1f2937;">5.0</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- Testimonial Text -->
                                                <div style="margin-top: 20px;">
                                                    <p style="font-size: 16px; line-height: 1.6; color: #374151; margin: 0; font-style: italic;">"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis."</p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Navigation Indicators - Exact match to frontend -->
                                        <div style="display: flex; justify-content: center; gap: 8px; margin-top: 40px;">
                                            <div style="width: 40px; height: 4px; border: none; background: #F0B21B; border-radius: 2px; cursor: pointer; transition: all 0.3s ease;"></div>
                                            <div style="width: 40px; height: 4px; border: none; background: #d1d5db; border-radius: 2px; cursor: pointer; transition: all 0.3s ease;"></div>
                                            <div style="width: 40px; height: 4px; border: none; background: #d1d5db; border-radius: 2px; cursor: pointer; transition: all 0.3s ease;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="testimonials-design-status-message"></div>
                        </div>
                        
                        <hr style="margin: 2em 0; border: 1px solid #ddd;">
                        
                        <!-- Modern Testimonials Management -->
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #F0B21B;">
                            <h4 style="margin-top: 0; color: #d69e16;">üí¨ Modern Testimonials Management</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Manage testimonials with the new modern design featuring clean cards and professional layout.</p>
                            
                            <!-- Add New Testimonial Form -->
                            <h5 style="color: #333; margin-bottom: 15px;">‚ûï Add New Testimonial</h5>
                            <form id="admin-testimonial-form" enctype="multipart/form-data" style="margin-bottom:2em;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                                    <div>
                                        <label for="testimonial-name">Client Name:</label><br>
                                        <input type="text" id="testimonial-name" name="name" required style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                    </div>
                                    <div>
                                        <label for="testimonial-profession">Profession:</label><br>
                                        <input type="text" id="testimonial-profession" name="profession" required style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                    </div>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label for="testimonial-text">Testimonial Text:</label><br>
                                    <textarea id="testimonial-text" name="text" rows="4" required style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;" placeholder="Enter the client's testimonial text..."></textarea>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                                    <div>
                                        <label for="testimonial-rating">Rating:</label><br>
                                        <select id="testimonial-rating" name="rating" required style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                            <option value="5.0">5.0 Stars</option>
                                            <option value="4.5">4.5 Stars</option>
                                            <option value="4.0">4.0 Stars</option>
                                            <option value="3.5">3.5 Stars</option>
                                            <option value="3.0">3.0 Stars</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="testimonial-display-order">Display Order:</label><br>
                                        <input type="number" id="testimonial-display-order" name="displayOrder" value="0" min="0" style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                    </div>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label for="testimonial-image">Profile Image:</label><br>
                                    <input type="file" id="testimonial-image" name="image" accept="image/*" style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                    <small style="color: #666; font-size: 12px;">Recommended: Square image, 200x200px or larger</small>
                                </div>
                                <button type="submit" style="background: #F0B21B; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Add Testimonial</button>
                            </form>
                        </div>
                        
                        <!-- Existing Testimonials List -->
                        <h4 style="color: #333; margin-bottom: 15px;">üìù Manage Existing Testimonials</h4>
                        <div id="admin-testimonials-list"></div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-offer" style="display:none;">
                    <h3>Offer Management</h3>
                    <div class="cms-section-content">
                        <!-- Header Offer Bar Management -->
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #ffc107;">
                            <h4 style="margin-top: 0; color: #856404;">Header Offer Bar Settings</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Edit the promotional banner that appears at the top of your website.</p>
                            
                            <form id="header-offer-form" style="margin-bottom: 2em;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1em; margin-bottom: 1em;">
                                    <div>
                                        <label for="header-offer-text">Offer Text:</label><br>
                                        <input type="text" id="header-offer-text" name="offerText" placeholder="e.g., SPECIAL OFFER Get 25% off premium office furniture collections" style="width: 100%; padding: 0.5em;" required>
                                    </div>
                                    <div>
                                        <label for="header-offer-link">Offer Link:</label><br>
                                        <input type="url" id="header-offer-link" name="offerLink" placeholder="e.g., /products or https://example.com" style="width: 100%; padding: 0.5em;" required>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1em;">
                                    <label for="header-offer-status">
                                        <input type="checkbox" id="header-offer-status" name="isActive" value="on" checked style="margin-right: 0.5em;">
                                        Active (Show offer bar on website)
                                    </label>
                                </div>
                                <div style="margin-bottom: 1em;">
                                    <label for="header-offer-background-color">Background Color:</label><br>
                                    <input type="color" id="header-offer-background-color" name="backgroundColor" value="#ffc107" style="width: 100%; height: 40px; padding: 0.5em;">
                                </div>
                                <div style="margin-bottom: 1em;">
                                    <label for="header-offer-text-color">Text Color:</label><br>
                                    <input type="color" id="header-offer-text-color" name="textColor" value="#ffffff" style="width: 100%; height: 40px; padding: 0.5em;">
                                </div>
                                <button type="submit" style="background: #28a745; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer;">Save Header Offer Bar</button>
                            </form>
                            
                            <div id="header-offer-preview" style="background: #ffc107; color: white; padding: 1em; border-radius: 4px; margin-top: 1em;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div style="display: flex; align-items: center; gap: 0.5em;">
                                        <span style="font-size: 1.2em;">üî•</span>
                                        <span id="preview-offer-text">SPECIAL OFFER Get 25% off premium office furniture collections - Limited time offer ending soon!</span>
                                    </div>
                                    <a href="#" id="preview-offer-link" style="background: white; color: #333; border: 1px solid #ddd; padding: 0.5em 1em; border-radius: 4px; text-decoration: none; display: inline-block;">View Offer</a>
                                </div>
                            </div>
                            <div id="header-offer-status-message"></div>
                        </div>


                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-projects" style="display:none;">
                    <h3>Projects Management</h3>
                    <div class="cms-section-content">
                        <!-- Add New Project Form -->
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #28a745;">
                            <h4 style="margin-top: 0; color: #155724;">‚ûï Add New Project</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Create a new project with main image, modal content, and thumbnail images.</p>
                            
                            <form id="projects-form" enctype="multipart/form-data" style="margin-bottom: 2em;">
                                <!-- Main Gallery Image -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Main Gallery Image</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="project-main-image">Upload Main Image:</label><br>
                                        <input type="file" id="project-main-image" name="mainImage" accept="image/*" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                        <small style="color: #666; display: block; margin-top: 0.5em;">This is the image that appears in the project grid before clicking. Recommended size: 800x600 or larger.</small>
                                    </div>
                                    <!-- Current Image Display (for edit mode) -->
                                    <div id="current-main-image" style="margin-top: 15px;"></div>
                                </div>
                                
                                <!-- Gallery Item Details -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üìù Gallery Item Details</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="project-title">Title:</label><br>
                                        <input type="text" id="project-title" name="title" placeholder="e.g., Executive Mahogany Desk" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="project-description">Description:</label><br>
                                        <textarea id="project-description" name="description" rows="3" placeholder="Describe the project item..." style="width: 100%; padding: 0.5em; margin-top: 0.5em;"></textarea>
                                    </div>
                                </div>
                                
                                <!-- Modal Thumbnail Images -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Modal Thumbnail Images</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="project-thumbnails">Upload Thumbnail Images (1-8 images):</label><br>
                                        <input type="file" id="project-thumbnails" name="thumbnails" accept="image/*" multiple style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                        <small style="color: #666; display: block; margin-top: 0.5em;">These images appear as thumbnails in the modal when the project item is clicked. Upload 1-8 images. Recommended size: 200x150 or larger.</small>
                                    </div>
                                    <div id="thumbnail-preview" style="margin-top: 1em;">
                                        <h6>Thumbnail Preview:</h6>
                                        <div id="thumbnail-preview-container" style="display: flex; flex-wrap: wrap; gap: 10px; min-height: 60px; align-items: center; justify-content: center; border: 1px solid #ddd; padding: 1em; border-radius: 4px;">
                                            <span id="no-thumbnails-text">No thumbnails selected</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="submit" style="background: #28a745; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Add Project</button>
                            </form>
                        </div>
                        
                        <!-- Existing Gallery Items -->
                        <div style="padding: 1.5em; background: #fff; border: 1px solid #e9ecef; border-radius: 8px;">
                            <h4 style="margin-top: 0; color: #333;">üìù Manage Existing Projects</h4>
                            <div id="projects-status">Loading projects...</div>
                        </div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-about" style="display:none;">
                    <h3>About Us Content Management</h3>
                    <div class="cms-section-content">
                        <form id="about-form" enctype="multipart/form-data" style="margin-bottom:2em;">
                            <!-- About Page Layout Selection -->
                            <div style="background: #fff3cd; padding: 12px 16px; border: 1px solid #ffeeba; border-radius: 6px; margin-bottom: 16px;">
                                <label for="about-layout" style="font-weight:600; color:#856404;">About Page Layout:</label><br>
                                <select id="about-layout" name="layout" style="margin-top:8px; padding:8px; min-width: 220px;">
                                    <option value="default">Default (current design)</option>
                                    <option value="minimal">Minimal (compact stacked)</option>
                                </select>
                                <div style="font-size:12px; color:#6c757d; margin-top:6px;">Choose how the About page is rendered on the storefront.</div>
                            </div>
                            <!-- Our Story Section -->
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #333; margin-bottom: 15px;">üìñ Our Story Section</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div>
                                        <label for="our-story-title">Story Title:</label><br>
                                        <input type="text" id="our-story-title" name="ourStoryTitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Our Story">
                                    </div>
                                    <div>
                                        <label for="story-subtitle">Story Subtitle:</label><br>
                                        <input type="text" id="story-subtitle" name="storySubtitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Crafting Excellence Since 2000">
                                    </div>
                                </div>
                                <div>
                                    <label for="our-story-content">Story Description:</label><br>
                                    <textarea id="our-story-content" name="ourStoryContent" rows="4" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="What began as a small workshop has grown into a leading provider of premium office furniture solutions..."></textarea>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div>
                                        <label for="projects-count">Projects Completed:</label><br>
                                        <input type="text" id="projects-count" name="projectsCount" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="2000+">
                                    </div>
                                    <div>
                                        <label for="clients-count">Happy Clients:</label><br>
                                        <input type="text" id="clients-count" name="clientsCount" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="500+">
                                    </div>
                                </div>
                                <div>
                                    <label for="story-image">Story Image:</label><br>
                                    <input type="file" id="story-image" name="storyImage" accept="image/*" style="width: 100%; padding: 8px;">
                                </div>
                            </div>

                            <!-- Our Mission Section -->
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #333; margin-bottom: 15px;">üéØ Our Mission Section</h4>
                                <div>
                                    <label for="mission-title">Mission Title:</label><br>
                                    <input type="text" id="mission-title" name="missionTitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Our Mission">
                                </div>
                                <div>
                                    <label for="mission-content">Mission Description:</label><br>
                                    <textarea id="mission-content" name="missionContent" rows="4" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="We strive to transform workspaces into inspiring environments..."></textarea>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                                    <div>
                                        <label for="feature-1">Feature 1:</label><br>
                                        <input type="text" id="feature-1" name="feature1" style="width: 100%; padding: 8px;" placeholder="Premium Materials">
                                    </div>
                                    <div>
                                        <label for="feature-2">Feature 2:</label><br>
                                        <input type="text" id="feature-2" name="feature2" style="width: 100%; padding: 8px;" placeholder="Ergonomic Design">
                                    </div>
                                    <div>
                                        <label for="feature-3">Feature 3:</label><br>
                                        <input type="text" id="feature-3" name="feature3" style="width: 100%; padding: 8px;" placeholder="Sustainable Practices">
                                    </div>
                                </div>
                                <div>
                                    <label for="mission-image">Mission Image:</label><br>
                                    <input type="file" id="mission-image" name="missionImage" accept="image/*" style="width: 100%; padding: 8px;">
                                </div>
                            </div>

                            <!-- Our Values Section -->
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #333; margin-bottom: 15px;">üíé Our Values Section</h4>
                                <div>
                                    <label for="vision-title">Values Title:</label><br>
                                    <input type="text" id="vision-title" name="visionTitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Our Values">
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div>
                                        <label for="value-1-title">Value 1 Title:</label><br>
                                        <input type="text" id="value-1-title" name="value1Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Innovation">
                                        <label for="value-1-description">Value 1 Description:</label><br>
                                        <textarea id="value-1-description" name="value1Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Pushing boundaries in design and functionality"></textarea>
                                    </div>
                                    <div>
                                        <label for="value-2-title">Value 2 Title:</label><br>
                                        <input type="text" id="value-2-title" name="value2Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Quality">
                                        <label for="value-2-description">Value 2 Description:</label><br>
                                        <textarea id="value-2-description" name="value2Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Uncompromising commitment to excellence"></textarea>
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div>
                                        <label for="value-3-title">Value 3 Title:</label><br>
                                        <input type="text" id="value-3-title" name="value3Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Service">
                                        <label for="value-3-description">Value 3 Description:</label><br>
                                        <textarea id="value-3-description" name="value3Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Dedicated to exceeding expectations"></textarea>
                                    </div>
                                    <div>
                                        <label for="value-4-title">Value 4 Title:</label><br>
                                        <input type="text" id="value-4-title" name="value4Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Sustainability">
                                        <label for="value-4-description">Value 4 Description:</label><br>
                                        <textarea id="value-4-description" name="value4Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Committed to environmental responsibility"></textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Design Philosophy Section -->
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #333; margin-bottom: 15px;">üé® Design Philosophy Section</h4>
                                <div>
                                    <label for="philosophy-title">Philosophy Title:</label><br>
                                    <input type="text" id="philosophy-title" name="philosophyTitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Design Philosophy">
                                </div>
                                <div>
                                    <label for="philosophy-subtitle">Philosophy Subtitle:</label><br>
                                    <input type="text" id="philosophy-subtitle" name="philosophySubtitle" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Every element of our brand reflects our commitment to clean, modern design">
                                </div>
                                <div>
                                    <label for="philosophy-description">Philosophy Description:</label><br>
                                    <textarea id="philosophy-description" name="philosophyDescription" rows="4" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Our design language embraces simplicity and clarity..."></textarea>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                                    <div>
                                        <label for="typo-1-title">Typography Feature 1 Title:</label><br>
                                        <input type="text" id="typo-1-title" name="typo1Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Clean & Modern">
                                        <label for="typo-1-description">Typography Feature 1 Description:</label><br>
                                        <textarea id="typo-1-description" name="typo1Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Sans-serif fonts that provide excellent readability"></textarea>
                                    </div>
                                    <div>
                                        <label for="typo-2-title">Typography Feature 2 Title:</label><br>
                                        <input type="text" id="typo-2-title" name="typo2Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Consistent Hierarchy">
                                        <label for="typo-2-description">Typography Feature 2 Description:</label><br>
                                        <textarea id="typo-2-description" name="typo2Description" rows="2" style="width: 100%; padding: 8px;" placeholder="Well-defined text sizes and weights"></textarea>
                                    </div>
                                    <div>
                                        <label for="typo-3-title">Typography Feature 3 Title:</label><br>
                                        <input type="text" id="typo-3-title" name="typo3Title" style="width: 100%; padding: 8px; margin-bottom: 10px;" placeholder="Accessible Design">
                                        <label for="typo-3-description">Typography Feature 3 Description:</label><br>
                                        <textarea id="typo-3-description" name="typo3Description" rows="2" style="width: 100%; padding: 8px;" placeholder="High contrast ratios and legible font sizes"></textarea>
                                    </div>
                                </div>
                            </div>

                            <button type="submit" style="background: #28a745; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold;">Save About Us Content</button>
                        </form>
                        <div id="about-status"></div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-auto-messages" style="display:none;">
                    <h3>Automated Messages (FAQs)</h3>
                    <div class="cms-section-content">
                        <div style="margin-bottom: 2em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #6f42c1;">
                            <h4 style="margin-top: 0; color: #4b2e83;">Create/Edit FAQ</h4>
                            <form id="auto-messages-form" style="margin-bottom: 1em;">
                                <div style="margin-bottom: 12px;">
                                    <label for="auto-question">Question</label><br>
                                    <input type="text" id="auto-question" name="question" style="width:100%; padding:8px;" required>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <label for="auto-answer">Answer</label><br>
                                    <textarea id="auto-answer" name="answer" rows="3" style="width:100%; padding:8px;" required></textarea>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <label for="auto-keywords">Keywords (comma-separated)</label><br>
                                    <input type="text" id="auto-keywords" name="keywords" style="width:100%; padding:8px;" placeholder="shipping, delivery, refund">
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <label><input type="checkbox" id="auto-active" name="isActive" checked> Active</label>
                                </div>
                                <input type="hidden" id="auto-id" value="">
                                <button type="submit" style="background:#6f42c1; color:#fff; border:none; padding:10px 16px; border-radius:4px; cursor:pointer;">Save</button>
                                <button type="button" id="auto-reset" style="margin-left:8px; background:#6c757d; color:#fff; border:none; padding:10px 16px; border-radius:4px; cursor:pointer;">Reset</button>
                            </form>
                            <div id="auto-messages-status"></div>
                        </div>

                        <div style="padding: 1.5em; background: #fff; border: 1px solid #e9ecef; border-radius: 8px;">
                            <h4 style="margin-top: 0;">Existing FAQs</h4>
                            <div id="auto-messages-list">Loading...</div>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ Edit Modal -->
                <div id="faq-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 2rem; border-radius: 8px; width: 90%; max-width: 600px; max-height: 80vh; overflow-y: auto;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                            <h3 style="margin: 0; color: #333;">Edit FAQ</h3>
                            <button onclick="closeEditModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;">&times;</button>
                                </div>
                                
                        <form id="faq-edit-form">
                            <input type="hidden" id="edit-faq-id" name="id">
                            
                            <div style="margin-bottom: 1rem;">
                                <label for="edit-faq-question" style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Question</label>
                                <input type="text" id="edit-faq-question" name="question" style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;" required>
                                </div>
                                
                            <div style="margin-bottom: 1rem;">
                                <label for="edit-faq-answer" style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Answer</label>
                                <textarea id="edit-faq-answer" name="answer" rows="4" style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem; resize: vertical;" required></textarea>
                                </div>
                                
                            <div style="margin-bottom: 1rem;">
                                <label for="edit-faq-keywords" style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Keywords (comma-separated)</label>
                                <input type="text" id="edit-faq-keywords" name="keywords" placeholder="shipping, delivery, refund" style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                                        </div>
                                        
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="checkbox" id="edit-faq-active" name="isActive" style="margin: 0;">
                                    <span style="font-weight: 600;">Active</span>
                                </label>
                                        </div>
                                        
                            <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                                <button type="button" onclick="closeEditModal()" style="background: #6c757d; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Cancel</button>
                                <button type="submit" style="background: #007bff; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Update FAQ</button>
                                        </div>
                        </form>
                            
                        <div id="edit-faq-status" style="margin-top: 1rem;"></div>
                    </div>
                </div>
                
                <!-- Project Edit Modal -->
                <div id="project-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 2rem; border-radius: 8px; width: 90%; max-width: 600px; max-height: 80vh; overflow-y: auto;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; border-bottom: 1px solid #dee2e6; padding-bottom: 1rem;">
                            <h3 style="margin: 0; color: #333;">Edit Project</h3>
                            <button onclick="closeProjectEditModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;">&times;</button>
                        </div>
                        
                        <form id="project-edit-form" enctype="multipart/form-data">
                            <input type="hidden" id="edit-project-id" name="projectId">
                            
                            <!-- Current Image Display -->
                            <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Current Main Image</h5>
                                <div id="current-edit-image" style="text-align: center;">
                                    <img id="edit-current-image" src="" alt="Current image" style="max-width: 200px; max-height: 150px; border-radius: 4px; border: 1px solid #ddd;">
                                </div>
                            </div>
                            
                            <!-- New Main Image (Optional) -->
                            <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Update Main Image (Optional)</h5>
                                <div style="margin-bottom: 15px;">
                                    <label for="edit-main-image">Upload New Main Image:</label><br>
                                    <input type="file" id="edit-main-image" name="mainImage" accept="image/*" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    <small style="color: #666; display: block; margin-top: 0.5em;">Leave empty to keep current image.</small>
                                </div>
                            </div>
                            
                            <!-- Project Details -->
                            <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                <h5 style="margin-top: 0; color: #495057;">üìù Project Details</h5>
                                <div style="margin-bottom: 15px;">
                                    <label for="edit-project-title">Title:</label><br>
                                    <input type="text" id="edit-project-title" name="title" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label for="edit-project-description">Description:</label><br>
                                    <textarea id="edit-project-description" name="description" rows="3" style="width: 100%; padding: 0.5em; margin-top: 0.5em;" required></textarea>
                                </div>
                            </div>
                            
                            <!-- Current Thumbnails Display -->
                            <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Current Thumbnails</h5>
                                <div id="current-edit-thumbnails" style="display: flex; flex-wrap: wrap; gap: 10px; min-height: 60px; align-items: center; justify-content: center; border: 1px solid #ddd; padding: 1em; border-radius: 4px;">
                                    <span id="no-current-thumbnails">No thumbnails</span>
                                </div>
                            </div>
                            
                            <!-- New Thumbnails (Optional) -->
                            <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Update Thumbnails (Optional)</h5>
                                <div style="margin-bottom: 15px;">
                                    <label for="edit-thumbnails">Upload New Thumbnail Images (1-8 images):</label><br>
                                    <input type="file" id="edit-thumbnails" name="thumbnails" accept="image/*" multiple style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    <small style="color: #666; display: block; margin-top: 0.5em;">Leave empty to keep current thumbnails.</small>
                                </div>
                                <div id="edit-thumbnail-preview" style="margin-top: 1em;">
                                    <h6>New Thumbnail Preview:</h6>
                                    <div id="edit-thumbnail-preview-container" style="display: flex; flex-wrap: wrap; gap: 10px; min-height: 60px; align-items: center; justify-content: center; border: 1px solid #ddd; padding: 1em; border-radius: 4px;">
                                        <span id="no-edit-thumbnails-text">No new thumbnails selected</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                                <button type="button" onclick="closeProjectEditModal()" style="background: #6c757d; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Cancel</button>
                                <button type="submit" style="background: #007bff; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Update Project</button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Testimonial Edit Modal -->
                <div id="testimonial-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 2rem; border-radius: 8px; width: 90%; max-width: 600px; max-height: 80vh; overflow-y: auto;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; border-bottom: 1px solid #dee2e6; padding-bottom: 1rem;">
                            <h3 style="margin: 0; color: #333;">Edit Testimonial</h3>
                            <button onclick="closeTestimonialEditModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;">&times;</button>
                        </div>
                        
                        <form id="testimonial-edit-form" enctype="multipart/form-data">
                            <input type="hidden" id="edit-testimonial-id" name="testimonialId">
                            
                            <!-- Current Image Display -->
                            <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                <h5 style="margin-top: 0; color: #495057;">üñºÔ∏è Current Profile Image</h5>
                                <div id="current-edit-testimonial-image" style="text-align: center;">
                                    <img id="edit-current-testimonial-image" src="" alt="Current image" style="max-width: 100px; max-height: 100px; border-radius: 50%; border: 1px solid #ddd;">
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                                <div>
                                    <label for="edit-testimonial-name">Client Name:</label><br>
                                    <input type="text" id="edit-testimonial-name" name="name" required style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                </div>
                                <div>
                                    <label for="edit-testimonial-profession">Profession:</label><br>
                                    <input type="text" id="edit-testimonial-profession" name="profession" required style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label for="edit-testimonial-text">Testimonial Text:</label><br>
                                <textarea id="edit-testimonial-text" name="text" rows="4" required style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;" placeholder="Enter the client's testimonial text..."></textarea>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                                <div>
                                    <label for="edit-testimonial-rating">Rating:</label><br>
                                    <select id="edit-testimonial-rating" name="rating" required style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                        <option value="5.0">5.0 Stars</option>
                                        <option value="4.5">4.5 Stars</option>
                                        <option value="4.0">4.0 Stars</option>
                                        <option value="3.5">3.5 Stars</option>
                                        <option value="3.0">3.0 Stars</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="edit-testimonial-display-order">Display Order:</label><br>
                                    <input type="number" id="edit-testimonial-display-order" name="displayOrder" value="0" min="0" style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <label for="edit-testimonial-image">Update Profile Image (Optional):</label><br>
                                <input type="file" id="edit-testimonial-image" name="image" accept="image/*" style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                <small style="color: #666; font-size: 12px;">Leave empty to keep current image. Recommended: Square image, 200x200px or larger</small>
                            </div>
                            
                            <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #dee2e6;">
                                <button type="button" onclick="closeTestimonialEditModal()" style="background: #6c757d; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Cancel</button>
                                <button type="submit" style="background: #F0B21B; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Update Testimonial</button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="cms-tab-content" id="tab-content-terms" style="display:none;">
                    <h3>Terms and Conditions Management</h3>
                    <div class="cms-section-content">
                        <div style="margin-bottom: 3em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #6f42c1;">
                            <h4 style="margin-top: 0; color: #4b2e83;">üìã Terms and Conditions Content</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Manage the terms and conditions text that appears on the sign-up page and product checkout page.</p>
                            
                            <form id="terms-form" style="margin-bottom: 2em;">
                                <!-- Sign-up Terms -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üìù Sign-up Page Terms and Conditions</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="signup-terms-title">Title:</label><br>
                                        <input type="text" id="signup-terms-title" name="signupTermsTitle" placeholder="Terms and Conditions" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="signup-terms-content">Content:</label><br>
                                        <textarea id="signup-terms-content" name="signupTermsContent" rows="8" placeholder="Enter the terms and conditions text for the sign-up page..." style="width: 100%; padding: 0.5em; margin-top: 0.5em;"></textarea>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="signup-terms-checkbox-text">Checkbox Text:</label><br>
                                        <input type="text" id="signup-terms-checkbox-text" name="signupTermsCheckboxText" placeholder="I agree to the Terms and Conditions" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                </div>
                                
                                <!-- Privacy Policy -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üîí Privacy Policy</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="privacy-policy-title">Title:</label><br>
                                        <input type="text" id="privacy-policy-title" name="privacyPolicyTitle" placeholder="Privacy Policy" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="privacy-policy-content">Content:</label><br>
                                        <textarea id="privacy-policy-content" name="privacyPolicyContent" rows="8" placeholder="Enter the privacy policy text..." style="width: 100%; padding: 0.5em; margin-top: 0.5em;"></textarea>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="privacy-policy-checkbox-text">Checkbox Text:</label><br>
                                        <input type="text" id="privacy-policy-checkbox-text" name="privacyPolicyCheckboxText" placeholder="I agree to the Privacy Policy" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                </div>
                                
                                <!-- Checkout Terms -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">üõí Checkout Page Terms and Conditions</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="checkout-terms-title">Title:</label><br>
                                        <input type="text" id="checkout-terms-title" name="checkoutTermsTitle" placeholder="Terms and Conditions" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="checkout-terms-content">Content:</label><br>
                                        <textarea id="checkout-terms-content" name="checkoutTermsContent" rows="8" placeholder="Enter the terms and conditions text for the checkout page..." style="width: 100%; padding: 0.5em; margin-top: 0.5em;"></textarea>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="checkout-terms-checkbox-text">Checkbox Text:</label><br>
                                        <input type="text" id="checkout-terms-checkbox-text" name="checkoutTermsCheckboxText" placeholder="I agree to the Terms and Conditions" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                </div>
                                
                                <!-- General Settings -->
                                <div style="background: #e9ecef; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                                    <h5 style="margin-top: 0; color: #495057;">‚öôÔ∏è General Settings</h5>
                                    <div style="margin-bottom: 15px;">
                                        <label for="terms-last-updated">Last Updated Date:</label><br>
                                        <input type="date" id="terms-last-updated" name="termsLastUpdated" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label for="terms-version">Version:</label><br>
                                        <input type="text" id="terms-version" name="termsVersion" placeholder="1.0" style="width: 100%; padding: 0.5em; margin-top: 0.5em;">
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label>
                                            <input type="checkbox" id="terms-require-agreement" name="requireAgreement" style="margin-right: 8px;">
                                            Require user agreement before sign-up/checkout
                                        </label>
                                    </div>
                                </div>
                                
                                <button type="submit" style="background: #6f42c1; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer; font-weight: bold;">Save Terms and Conditions</button>
                            </form>
                            
                            <div id="terms-status-message"></div>
                        </div>
                    </div>
                </div>
                <div class="cms-tab-content" id="tab-content-theme" style="display:none;">
                    <h3>Theme</h3>
                    <div class="cms-section-content">
                        <form id="theme-form" style="margin-bottom:2em;">
                            <div style="margin-bottom: 1em;">
                                <label for="theme-select">Select Theme:</label><br>
                                                            <select id="theme-select" name="theme" style="width: 100%; padding: 0.5em;">
                                <option value="default">Default</option>
                                <option value="dark">Dark</option>
                                <option value="christmas">Christmas</option>
                            </select>
                            </div>
                            <button type="submit">Save Theme</button>
                        </form>
                        <div id="theme-status"></div>
                        <div>Current active theme: <span id="current-theme">Loading...</span></div>
                        
                        <hr style="margin: 2em 0;">
                        
                        <h4>Background Image</h4>
                        <form id="theme-background-form" enctype="multipart/form-data" style="margin-bottom:2em;">
                            <div style="margin-bottom: 1em;">
                                <label for="theme-background-image">Upload Background Image:</label><br>
                                <input type="file" id="theme-background-image" name="backgroundImage" accept="image/*" style="width: 100%; padding: 0.5em;">
                                <small style="color: #666;">Recommended size: 1920x1080 or larger. Will be applied as background to the entire site.</small>
                            </div>
                            <button type="submit" style="background: #007bff; color: white; border: none; padding: 0.75em 1.5em; border-radius: 4px; cursor: pointer;">Upload Background Image</button>
                        </form>
                        <div id="theme-background-status"></div>
                        
                        <div id="current-background-preview" style="margin-top: 1em;">
                            <h5>Current Background Image:</h5>
                            <div id="background-preview-container" style="border: 1px solid #ddd; padding: 1em; border-radius: 4px; min-height: 100px; display: flex; align-items: center; justify-content: center;">
                                <span id="no-background-text">No background image set</span>
                                <img id="background-preview-image" src="" alt="Background preview" style="max-width: 100%; max-height: 200px; display: none;">
                            </div>
                            <button id="remove-background-btn" onclick="removeBackgroundImage()" style="background: #dc3545; color: white; border: none; padding: 0.5em 1em; border-radius: 4px; cursor: pointer; margin-top: 0.5em; display: none;">Remove Background Image</button>
                        </div>
                    </div>
                </div>
                
                <!-- Messages Tab Content -->
                <div class="cms-tab-content" id="tab-content-messages" style="display:none;">
                    <h3>Contact Messages Management</h3>
                    <div class="cms-section-content">
                        <!-- Statistics Section -->
                        <div style="margin-bottom: 2em; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #17a2b8;">
                            <h4 style="margin-top: 0; color: #0c5460;">üìä Message Statistics</h4>
                            <p style="color: #666; margin-bottom: 1.5em;">Overview of contact form submissions and their status.</p>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                                <div style="background: white; padding: 1rem; border-radius: 6px; text-align: center; border: 1px solid #dee2e6;">
                                    <h3 style="margin: 0 0 0.5rem 0; font-size: 1.8rem; color: #17a2b8;" id="total-messages">-</h3>
                                    <p style="margin: 0; color: #666; font-weight: 500; font-size: 0.9rem;">Total Messages</p>
                                </div>
                                <div style="background: white; padding: 1rem; border-radius: 6px; text-align: center; border: 1px solid #dee2e6;">
                                    <h3 style="margin: 0 0 0.5rem 0; font-size: 1.8rem; color: #dc3545;" id="new-messages">-</h3>
                                    <p style="margin: 0; color: #666; font-weight: 500; font-size: 0.9rem;">New Messages</p>
                                </div>
                                <div style="background: white; padding: 1rem; border-radius: 6px; text-align: center; border: 1px solid #dee2e6;">
                                    <h3 style="margin: 0 0 0.5rem 0; font-size: 1.8rem; color: #007bff;" id="read-messages">-</h3>
                                    <p style="margin: 0; color: #666; font-weight: 500; font-size: 0.9rem;">Read Messages</p>
                                </div>
                                <div style="background: white; padding: 1rem; border-radius: 6px; text-align: center; border: 1px solid #dee2e6;">
                                    <h3 style="margin: 0 0 0.5rem 0; font-size: 1.8rem; color: #28a745;" id="replied-messages">-</h3>
                                    <p style="margin: 0; color: #666; font-weight: 500; font-size: 0.9rem;">Replied Messages</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Messages List -->
                        <div style="padding: 1.5em; background: #fff; border: 1px solid #e9ecef; border-radius: 8px;">
                            <h4 style="margin-top: 0; color: #495057;">üìß All Contact Messages</h4>
                            <div id="messages-list">
                                <div style="text-align: center; padding: 2rem; color: #666;">Loading messages...</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <style>
                    .cms-tabs { margin-bottom: 1em; }
                    .cms-tab-btn { margin-right: 8px; padding: 8px 16px; cursor: pointer; border: 1px solid #ccc; background: #f7f7f7; border-radius: 4px 4px 0 0; }
                    .cms-tab-btn.active { background: #fff; border-bottom: 1px solid #fff; font-weight: bold; }
                    .cms-tab-content { border: 1px solid #ccc; border-top: none; padding: 1em; background: #fff; }
                    
                    /* Messages Tab Specific Styles */
                    .message-actions button { transition: background-color 0.2s ease; }
                    .message-actions button:hover { opacity: 0.9; }
                    .star-rating {
                        direction: rtl;
                        unicode-bidi: bidi-override;
                        display: inline-block;
                    }
                    .star-rating input[type="radio"] {
                        display: none;
                    }
                    .star-rating label {
                        color: #ccc;
                        font-size: 2em;
                        cursor: pointer;
                        transition: color 0.2s;
                    }
                    .star-rating input[type="radio"]:checked ~ label,
                    .star-rating label:hover,
                    .star-rating label:hover ~ label {
                        color: #f5b301;
                    }
                </style>
                <script>
                    function showTab(tab) {
                        const tabs = ['banner', 'hero-banner', 'products', 'testimonials', 'offer', 'project', 'about', 'auto-messages', 'terms', 'theme', 'messages'];
                        tabs.forEach(t => {
                            document.getElementById('tab-content-' + t).style.display = (t === tab) ? '' : 'none';
                            document.getElementById('tab-' + t).classList.toggle('active', t === tab);
                        });
                        
                        // Load messages when messages tab is shown
                        if (tab === 'messages') {
                            loadMessages();
                        }
                        
                        // Load header banner settings when banner tab is shown
                        if (tab === 'banner') {
                            loadHeaderBannerSettings();
                        }
                        
                        // Load hero banner data when hero-banner tab is shown
                        if (tab === 'hero-banner') {
                            loadHeroBannerSettings();
                        }
                        
                        // Load terms and conditions when terms tab is shown
                        if (tab === 'terms') {
                            loadTermsAndConditions();
                        }
                        
                        // Load About Us content when about tab is shown
                        if (tab === 'about') {
                            loadAboutContent();
                        }
                        
                        // Load header banner settings when banner tab is shown
                        if (tab === 'banner') {
                            loadHeaderBannerSettings();
                        }
                    }
                    // --- Theme Tab Logic ---
                    async function fetchActiveTheme() {
                        try {
                            const res = await fetch('/api/theme/active');
                            const data = await res.json();
                            document.getElementById('current-theme').textContent = data.activeTheme || 'default';
                            document.getElementById('theme-select').value = data.activeTheme || 'default';
                            
                            // Update background image preview
                            updateBackgroundPreview(data.backgroundImage);
                        } catch {
                            document.getElementById('current-theme').textContent = 'default';
                        }
                    }
                    
                    async function saveTheme(e) {
                        e.preventDefault();
                        const theme = document.getElementById('theme-select').value;
                        try {
                            const res = await fetch('/api/theme/active', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ activeTheme: theme })
                            });
                            const data = await res.json();
                            if (data.success) {
                                document.getElementById('theme-status').textContent = 'Theme updated!';
                                document.getElementById('current-theme').textContent = theme;
                            } else {
                                document.getElementById('theme-status').textContent = 'Failed to update theme.';
                            }
                        } catch {
                            document.getElementById('theme-status').textContent = 'Error updating theme.';
                        }
                    }
                    
                    // Background image functions
                    function updateBackgroundPreview(backgroundImage) {
                        const previewContainer = document.getElementById('background-preview-container');
                        const previewImage = document.getElementById('background-preview-image');
                        const noBackgroundText = document.getElementById('no-background-text');
                        const removeBtn = document.getElementById('remove-background-btn');
                        
                        if (backgroundImage) {
                            previewImage.src = backgroundImage;
                            previewImage.style.display = 'block';
                            noBackgroundText.style.display = 'none';
                            removeBtn.style.display = 'inline-block';
                        } else {
                            previewImage.style.display = 'none';
                            noBackgroundText.style.display = 'block';
                            removeBtn.style.display = 'none';
                        }
                    }
                    
                    async function handleBackgroundImageUpload(e) {
                        e.preventDefault();
                        const form = e.target;
                        const formData = new FormData(form);
                        const statusDiv = document.getElementById('theme-background-status');
                        
                        statusDiv.innerHTML = '<p style="color: #007bff;">Uploading...</p>';
                        
                        try {
                            const res = await fetch('/api/theme/background-image', {
                                method: 'POST',
                                body: formData
                            });
                            const data = await res.json();
                            
                            if (data.success) {
                                statusDiv.innerHTML = '<p style="color: green;">Background image uploaded successfully!</p>';
                                updateBackgroundPreview(data.backgroundImage);
                                form.reset();
                                
                                // Auto-hide success message after 3 seconds
                                setTimeout(() => {
                                    statusDiv.innerHTML = '';
                                }, 3000);
                            } else {
                                statusDiv.innerHTML = '<p style="color: red;">Failed to upload background image.</p>';
                            }
                        } catch (err) {
                            statusDiv.innerHTML = '<p style="color: red;">Error uploading background image.</p>';
                        }
                    }
                    
                    async function removeBackgroundImage() {
                        if (!confirm('Are you sure you want to remove the background image?')) return;
                        
                        try {
                            const res = await fetch('/api/theme/active', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ 
                                    activeTheme: document.getElementById('theme-select').value,
                                    backgroundImage: null 
                                })
                            });
                            const data = await res.json();
                            
                            if (data.success) {
                                updateBackgroundPreview(null);
                                document.getElementById('theme-background-status').innerHTML = '<p style="color: green;">Background image removed successfully!</p>';
                                
                                // Auto-hide success message after 3 seconds
                                setTimeout(() => {
                                    document.getElementById('theme-background-status').innerHTML = '';
                                }, 3000);
                            }
                        } catch (err) {
                            document.getElementById('theme-background-status').innerHTML = '<p style="color: red;">Error removing background image.</p>';
                        }
                    }
                    // --- Products Tab Logic ---
                    async function fetchProducts() {
                        const res = await fetch('/api/admin/products');
                        return res.json();
                    }
                    async function setProductFeatured(id, isFeatured) {
                        const res = await fetch(`/api/admin/products/${id}/featured`, {
                            method: 'PUT',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ featured: isFeatured })
                        });
                        return res.json();
                    }
                    
                    async function renderProductsTable() {
                        const tbody = document.querySelector('#products-table tbody');
                        if (!tbody) return;
                        tbody.innerHTML = '<tr><td colspan="6">Loading...</td></tr>';
                        try {
                            const products = await fetchProducts();
                            tbody.innerHTML = products.map(p => {
                                return `
                                    <tr>
                                        <td>${p.ProductID}</td>
                                        <td>${p.Name}</td>
                                        <td>${p.Category}</td>
                                        <td>‚Ç±${parseFloat(p.Price).toFixed(2)}</td>
                                        <td>
                                            <input type="checkbox" ${p.IsFeatured ? 'checked' : ''} onchange="toggleFeatured(${p.ProductID}, this.checked)">
                                        </td>
                                        <td>
                                            <button onclick="deleteProduct(${p.ProductID}, '${p.Name}')" style="padding: 0.25em 0.5em; background: #dc3545; color: white; border: none; border-radius: 3px; cursor: pointer;">
                                                Remove
                                            </button>
                                        </td>
                                    </tr>
                                `;
                            }).join('');
                        } catch {
                            tbody.innerHTML = '<tr><td colspan="6">Failed to load products.</td></tr>';
                        }
                    }
                    window.toggleFeatured = async function(id, checked) {
                        document.getElementById('products-status').textContent = 'Saving...';
                        try {
                            await setProductFeatured(id, checked);
                            document.getElementById('products-status').textContent = 'Saved!';
                            renderProductsTable();
                        } catch {
                            document.getElementById('products-status').textContent = 'Failed to save.';
                        }
                    };
                    
                    
                    
                    // Delete product function
                    window.deleteProduct = async function(productId, productName) {
                        if (!confirm(`Are you sure you want to PERMANENTLY DELETE the product "${productName}"? This will permanently remove the product and ALL related data (reviews, variations, discounts, materials, order history) from the database. This action CANNOT be undone!`)) {
                            return;
                        }
                        
                        document.getElementById('products-status').textContent = 'Deleting product...';
                        try {
                            const response = await fetch(`/api/admin/products/${productId}`, {
                                method: 'DELETE',
                                headers: {
                                    'Content-Type': 'application/json'
                                }
                            });
                            
                            console.log('Delete response status:', response.status);
                            console.log('Delete response headers:', response.headers);
                            
                            if (!response.ok) {
                                const errorText = await response.text();
                                console.error('Delete response error:', errorText);
                                throw new Error(`HTTP ${response.status}: ${errorText}`);
                            }
                            
                            const result = await response.json();
                            console.log('Delete response result:', result);
                            
                            if (result.success) {
                                document.getElementById('products-status').textContent = `Product "${productName}" permanently deleted from database!`;
                                renderProductsTable();
                            } else {
                                document.getElementById('products-status').textContent = 'Failed to delete product.';
                            }
                        } catch (error) {
                            console.error('Error deleting product:', error);
                            document.getElementById('products-status').textContent = `Failed to delete product: ${error.message}`;
                        }
                    };
                    
                    // Render products table on tab switch
                    const productsTabBtn = document.getElementById('tab-products');
                    if (productsTabBtn) {
                        productsTabBtn.addEventListener('click', renderProductsTable);
                    }
                    
                    // --- Header Banner Tab Logic ---
                    async function fetchHeaderBannerSettings() {
                        try {
                            const res = await fetch('/api/admin/header-banner');
                            if (!res.ok) throw new Error('Failed to fetch header banner settings');
                            return res.json();
                        } catch (err) {
                            console.error('Error fetching header banner settings:', err);
                            return null;
                        }
                    }
                    
                    async function saveHeaderBannerSettings(formData) {
                        try {
                            const res = await fetch('/api/admin/header-banner', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(formData)
                            });
                            if (!res.ok) throw new Error('Failed to save header banner settings');
                            return res.json();
                        } catch (err) {
                            console.error('Error saving header banner settings:', err);
                            throw err;
                        }
                    }
                    
                    async function restoreDefaultHeaderSettings() {
                        if (confirm('Are you sure you want to restore all header banner settings to their default values? This action cannot be undone.')) {
                            try {
                                const defaultSettings = {
                                    mainBgColor: '#ffffff',
                                    contactTextColor: '#6c757d',
                                    contactIconColor: '#F0B21B',
                                    iconColor: '#F0B21B',
                                    navBgColor: '#F0B21B',
                                    navTextColor: '#333333',
                                    navHoverColor: '#d69e16',
                                    searchBorderColor: '#ffc107',
                                    contactEmail: 'designexcellence1@gmail.com',
                                    contactPhone: '(02) 413-6682',
                                    contactAddress: '#1 Binmaka Street Cor. Biak na Bato Brgy. Manresa, Quezon City',
                                    contactFontSize: '0.6rem',
                                    contactSpacing: '0.8rem',
                                    contactShowIcons: true,
                                    searchPlaceholder: 'Search',
                                    logoUrl: null
                                };
                                
                                console.log('Restoring default header banner settings...');
                                const response = await saveHeaderBannerSettings(defaultSettings);
                                
                                if (response && response.success) {
                                    // Update form fields with default values
                                    document.getElementById('main-bg-color').value = defaultSettings.mainBgColor;
                                    document.getElementById('contact-text-color').value = defaultSettings.contactTextColor;
                                    document.getElementById('contact-icon-color').value = defaultSettings.contactIconColor;
                                    document.getElementById('nav-bg-color').value = defaultSettings.navBgColor;
                                    document.getElementById('nav-text-color').value = defaultSettings.navTextColor;
                                    document.getElementById('nav-hover-color').value = defaultSettings.navHoverColor;
                                    document.getElementById('search-border-color').value = defaultSettings.searchBorderColor;
                                    document.getElementById('icon-color').value = defaultSettings.iconColor;
                                    document.getElementById('contact-email').value = defaultSettings.contactEmail;
                                    document.getElementById('contact-phone').value = defaultSettings.contactPhone;
                                    document.getElementById('contact-address').value = defaultSettings.contactAddress;
                                    document.getElementById('contact-font-size').value = defaultSettings.contactFontSize;
                                    document.getElementById('contact-spacing').value = defaultSettings.contactSpacing;
                                    document.getElementById('contact-show-icons').checked = defaultSettings.contactShowIcons;
                                    document.getElementById('search-placeholder').value = defaultSettings.searchPlaceholder;
                                    document.getElementById('logo-url').value = defaultSettings.logoUrl;
                                    
                                    // Update preview
                                    updateHeaderPreview();
                                    
                                    // Show success message
                                    const statusDiv = document.getElementById('header-banner-status-message');
                                    if (statusDiv) {
                                        statusDiv.innerHTML = '<div style="color: #28a745; font-weight: bold;">‚úÖ Default settings restored successfully!</div>';
                                        setTimeout(() => {
                                            statusDiv.innerHTML = '';
                                        }, 3000);
                                    }
                                    
                                    console.log('Default settings restored successfully');
                                } else {
                                    throw new Error('Failed to restore default settings');
                                }
                            } catch (error) {
                                console.error('Error restoring default settings:', error);
                                const statusDiv = document.getElementById('header-banner-status-message');
                                if (statusDiv) {
                                    statusDiv.innerHTML = '<div style="color: #dc3545; font-weight: bold;">‚ùå Error restoring default settings. Please try again.</div>';
                                    setTimeout(() => {
                                        statusDiv.innerHTML = '';
                                    }, 5000);
                                }
                            }
                        }
                    }
                    
                    async function loadHeaderBannerSettings() {
                        try {
                            console.log('Loading header banner settings...');
                            const response = await fetchHeaderBannerSettings();
                            console.log('API response:', response);
                            if (response && response.success && response.banner) {
                                const banner = response.banner;
                                console.log('Banner data:', banner);
                                // Main Header Row Colors
                                const mainBgColorField = document.getElementById('main-bg-color');
                                console.log('Found main-bg-color field:', mainBgColorField);
                                
                                if (mainBgColorField) {
                                    mainBgColorField.value = banner.mainBgColor || '#ffffff';
                                    console.log('Set main-bg-color to:', banner.mainBgColor);
                                }
                                
                                // Contact Information Colors
                                document.getElementById('contact-text-color').value = banner.contactTextColor || '#6c757d';
                                document.getElementById('contact-icon-color').value = banner.contactIconColor || '#F0B21B';
                                
                                // Navigation Bar Colors
                                const navBgColorField = document.getElementById('nav-bg-color');
                                const navTextColorField = document.getElementById('nav-text-color');
                                const navHoverColorField = document.getElementById('nav-hover-color');
                                console.log('Found nav-bg-color field:', navBgColorField);
                                console.log('Found nav-text-color field:', navTextColorField);
                                
                                if (navBgColorField) {
                                    navBgColorField.value = banner.navBgColor || '#F0B21B';
                                    console.log('Set nav-bg-color to:', banner.navBgColor);
                                }
                                if (navTextColorField) {
                                    navTextColorField.value = banner.navTextColor || '#333333';
                                    console.log('Set nav-text-color to:', banner.navTextColor);
                                }
                                if (navHoverColorField) {
                                    navHoverColorField.value = banner.navHoverColor || '#d69e16';
                                }
                                
                                // Search Bar Colors
                                document.getElementById('search-border-color').value = banner.searchBorderColor || '#ffc107';
                                
                                // Icon Colors
                                document.getElementById('icon-color').value = banner.iconColor || '#F0B21B';
                                
                                // Contact Information Content
                                document.getElementById('contact-email').value = banner.contactEmail || 'designexcellence1@gmail.com';
                                document.getElementById('contact-phone').value = banner.contactPhone || '(02) 413-6682';
                                document.getElementById('contact-address').value = banner.contactAddress || '#1 Binmaka Street Cor. Biak na Bato Brgy. Manresa, Quezon City';
                                
                                // Contact Information Display Settings
                                document.getElementById('contact-font-size').value = banner.contactFontSize || '0.6rem';
                                document.getElementById('contact-spacing').value = banner.contactSpacing || '0.8rem';
                                document.getElementById('contact-show-icons').checked = banner.contactShowIcons || true;
                                
                                // Search Settings
                                document.getElementById('search-placeholder').value = banner.searchPlaceholder || 'Search';
                                
                                // Logo Settings
                                document.getElementById('logo-url').value = banner.logoUrl || '';
                                
                                // Update logo preview image
                                const logoPreviewImage = document.getElementById('logo-preview-image');
                                if (logoPreviewImage) {
                                    logoPreviewImage.src = banner.logoUrl || '/design-excellence-logo.png';
                                }
                                
                                // Update preview
                                updateHeaderPreview();
                            }
                        } catch (err) {
                            console.error('Error loading header banner settings:', err);
                        }
                    }
                    
                    async function handleHeaderBannerFormSubmit(e) {
                        e.preventDefault();
                        const form = e.target;
                        
                        // Handle logo upload first if a file is selected
                        let logoUrl = form.querySelector('[name="logoUrl"]').value;
                        const logoFile = form.querySelector('[name="logoUpload"]').files[0];
                        
                        if (logoFile) {
                            try {
                                const uploadFormData = new FormData();
                                uploadFormData.append('logoUpload', logoFile);
                                
                                const uploadResponse = await fetch('/api/admin/logo-upload', {
                                    method: 'POST',
                                    body: uploadFormData
                                });
                                
                                const uploadResult = await uploadResponse.json();
                                
                                if (uploadResult.success) {
                                    logoUrl = uploadResult.logoUrl;
                                    form.querySelector('[name="logoUrl"]').value = logoUrl;
                                } else {
                                    throw new Error(uploadResult.message || 'Failed to upload logo');
                                }
                            } catch (error) {
                                console.error('Error uploading logo:', error);
                                alert('Error uploading logo: ' + error.message);
                                return;
                            }
                        }
                        
                        // Collect form data as an object
                        const formData = {
                            mainBgColor: form.querySelector('[name="mainBgColor"]').value,
                            contactTextColor: form.querySelector('[name="contactTextColor"]').value,
                            contactIconColor: form.querySelector('[name="contactIconColor"]').value, // Contact info icons (header-main-left)
                            iconColor: form.querySelector('[name="iconColor"]').value, // Search and user icons (header-main-right)
                            navBgColor: form.querySelector('[name="navBgColor"]').value,
                            navTextColor: form.querySelector('[name="navTextColor"]').value,
                            navHoverColor: form.querySelector('[name="navHoverColor"]').value,
                            searchBorderColor: form.querySelector('[name="searchBorderColor"]').value,
                            contactEmail: form.querySelector('[name="contactEmail"]').value,
                            contactPhone: form.querySelector('[name="contactPhone"]').value,
                            contactAddress: form.querySelector('[name="contactAddress"]').value,
                            contactFontSize: form.querySelector('[name="contactFontSize"]').value,
                            contactSpacing: form.querySelector('[name="contactSpacing"]').value,
                            contactShowIcons: form.querySelector('[name="contactShowIcons"]').checked,
                            searchPlaceholder: form.querySelector('[name="searchPlaceholder"]').value,
                            logoUrl: logoUrl
                        };
                        
                        console.log('Form data being submitted:', formData);
                        
                        const statusDiv = document.getElementById('header-banner-status-message');
                        if (!statusDiv) {
                            // Create status message div if it doesn't exist
                            const newStatusDiv = document.createElement('div');
                            newStatusDiv.id = 'header-banner-status-message';
                            newStatusDiv.style.marginTop = '1em';
                            form.parentNode.appendChild(newStatusDiv);
                        }
                        
                        const statusDivElement = document.getElementById('header-banner-status-message');
                        statusDivElement.innerHTML = '<p style="color: #007bff;">Saving header banner settings...</p>';
                        
                        try {
                            await saveHeaderBannerSettings(formData);
                            statusDivElement.innerHTML = '<p style="color: green; margin-top: 1em;">Header banner settings saved successfully!</p>';
                            
                            // Auto-hide success message after 3 seconds
                            setTimeout(() => {
                                statusDivElement.innerHTML = '';
                            }, 3000);
                        } catch (err) {
                            statusDivElement.innerHTML = '<p style="color: red; margin-top: 1em;">Failed to save header banner settings.</p>';
                        }
                    }
                    
                    function updateHeaderPreview() {
                        const mainBgColor = document.getElementById('main-bg-color').value;
                        const contactTextColor = document.getElementById('contact-text-color').value;
                        const contactIconColor = document.getElementById('contact-icon-color').value;
                        const navBgColor = document.getElementById('nav-bg-color').value;
                        const navTextColor = document.getElementById('nav-text-color').value;
                        const navHoverColor = document.getElementById('nav-hover-color').value;
                        const searchBorderColor = document.getElementById('search-border-color').value;
                        const iconColor = document.getElementById('icon-color').value;
                        const contactEmail = document.getElementById('contact-email').value;
                        const contactPhone = document.getElementById('contact-phone').value;
                        const contactAddress = document.getElementById('contact-address').value;
                        const contactFontSize = document.getElementById('contact-font-size').value;
                        const contactSpacing = document.getElementById('contact-spacing').value;
                        const contactShowIcons = document.getElementById('contact-show-icons').checked;
                        const searchPlaceholder = document.getElementById('search-placeholder').value;
                        
                        // Update main header row background color
                        const previewMainRow = document.getElementById('preview-main-row');
                        if (previewMainRow) {
                            previewMainRow.style.backgroundColor = mainBgColor;
                        }
                        
                        // Update contact info section
                        const previewMainLeft = document.getElementById('preview-main-left');
                        if (previewMainLeft) {
                            previewMainLeft.style.color = contactTextColor;
                            previewMainLeft.style.fontSize = contactFontSize;
                            previewMainLeft.style.gap = contactSpacing;
                        }
                        
                        // Update contact info icons
                        const previewEmail = document.getElementById('preview-email');
                        const previewPhone = document.getElementById('preview-phone');
                        const previewAddress = document.getElementById('preview-address');
                        
                        if (previewEmail) {
                            const emailSvg = previewEmail.querySelector('svg');
                            if (emailSvg) {
                                emailSvg.style.color = contactIconColor;
                            }
                            previewEmail.style.display = contactShowIcons ? 'flex' : 'none';
                            
                            // Update contact text content
                            const emailText = previewEmail.childNodes[1];
                            if (emailText) {
                                emailText.textContent = contactEmail;
                            }
                        }
                        if (previewPhone) {
                            const phoneSvg = previewPhone.querySelector('svg');
                            if (phoneSvg) {
                                phoneSvg.style.color = contactIconColor;
                            }
                            previewPhone.style.display = contactShowIcons ? 'flex' : 'none';
                            
                            // Update contact text content
                            const phoneText = previewPhone.childNodes[1];
                            if (phoneText) {
                                phoneText.textContent = contactPhone;
                            }
                        }
                        if (previewAddress) {
                            const addressSvg = previewAddress.querySelector('svg');
                            if (addressSvg) {
                                addressSvg.style.color = contactIconColor;
                            }
                            previewAddress.style.display = contactShowIcons ? 'flex' : 'none';
                            
                            // Update contact text content
                            const addressText = previewAddress.childNodes[1];
                            if (addressText) {
                                addressText.textContent = contactAddress;
                            }
                        }
                        
                        // Update navigation bar
                        const previewNavBar = document.getElementById('preview-nav-bar');
                        if (previewNavBar) {
                            previewNavBar.style.backgroundColor = navBgColor;
                            previewNavBar.style.color = navTextColor;
                        }
                        
                        // Update search container
                        const previewSearchContainer = document.getElementById('preview-search-container');
                        if (previewSearchContainer) {
                            previewSearchContainer.style.borderColor = searchBorderColor;
                        }
                        
                        // Update search icon
                        const previewSearchIcon = document.getElementById('preview-search-icon');
                        if (previewSearchIcon) {
                            previewSearchIcon.style.color = iconColor;
                        }
                        
                        // Update search placeholder
                        const previewSearchInput = document.getElementById('preview-search-input');
                        if (previewSearchInput) {
                            previewSearchInput.placeholder = searchPlaceholder;
                        }
                        
                        // Update user/cart/orders icons
                        const userIcons = previewMainRow.querySelectorAll('#preview-main-right > div > svg');
                        userIcons.forEach(icon => {
                            icon.style.color = iconColor;
                        });
                        
                        // Update logo
                        const previewLogo = document.getElementById('preview-logo');
                        const logoPreviewImage = document.getElementById('logo-preview-image');
                        const logoUrl = document.getElementById('logo-url').value;
                        if (logoUrl) {
                            previewLogo.src = logoUrl;
                            if (logoPreviewImage) logoPreviewImage.src = logoUrl;
                        } else {
                            previewLogo.src = '/design-excellence-logo.png';
                            if (logoPreviewImage) logoPreviewImage.src = '/design-excellence-logo.png';
                        }
                    }
                    
                    
                    // --- Terms and Conditions Tab Logic ---
                    async function fetchTermsAndConditions() {
                        try {
                            const res = await fetch('/api/admin/terms');
                            if (!res.ok) throw new Error('Failed to fetch terms and conditions');
                            return res.json();
                        } catch (err) {
                            console.error('Error fetching terms:', err);
                            return null;
                        }
                    }
                    
                    async function saveTermsAndConditions(formData) {
                        try {
                            const res = await fetch('/api/admin/terms', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(formData)
                            });
                            if (!res.ok) throw new Error('Failed to save terms and conditions');
                            return res.json();
                        } catch (err) {
                            console.error('Error saving terms:', err);
                            throw err;
                        }
                    }
                    
                    async function loadTermsAndConditions() {
                        try {
                            const response = await fetchTermsAndConditions();
                            if (response && response.success && response.terms) {
                                const terms = response.terms;
                                // Sign-up terms
                                document.getElementById('signup-terms-title').value = terms.signupTermsTitle || '';
                                document.getElementById('signup-terms-content').value = terms.signupTermsContent || '';
                                document.getElementById('signup-terms-checkbox-text').value = terms.signupTermsCheckboxText || '';
                                
                                // Privacy Policy
                                document.getElementById('privacy-policy-title').value = terms.privacyPolicyTitle || '';
                                document.getElementById('privacy-policy-content').value = terms.privacyPolicyContent || '';
                                document.getElementById('privacy-policy-checkbox-text').value = terms.privacyPolicyCheckboxText || '';
                                
                                // Checkout terms
                                document.getElementById('checkout-terms-title').value = terms.checkoutTermsTitle || '';
                                document.getElementById('checkout-terms-content').value = terms.checkoutTermsContent || '';
                                document.getElementById('checkout-terms-checkbox-text').value = terms.checkoutTermsCheckboxText || '';
                                
                                // General settings
                                document.getElementById('terms-last-updated').value = terms.termsLastUpdated || '';
                                document.getElementById('terms-version').value = terms.termsVersion || '';
                                document.getElementById('terms-require-agreement').checked = terms.requireAgreement || false;
                            }
                        } catch (err) {
                            console.error('Error loading terms:', err);
                        }
                    }
                    
                    async function handleTermsFormSubmit(e) {
                        e.preventDefault();
                        const form = e.target;
                        
                        // Collect form data as an object
                        const formData = {
                            signupTermsTitle: form.querySelector('[name="signupTermsTitle"]').value,
                            signupTermsContent: form.querySelector('[name="signupTermsContent"]').value,
                            signupTermsCheckboxText: form.querySelector('[name="signupTermsCheckboxText"]').value,
                            privacyPolicyTitle: form.querySelector('[name="privacyPolicyTitle"]').value,
                            privacyPolicyContent: form.querySelector('[name="privacyPolicyContent"]').value,
                            privacyPolicyCheckboxText: form.querySelector('[name="privacyPolicyCheckboxText"]').value,
                            checkoutTermsTitle: form.querySelector('[name="checkoutTermsTitle"]').value,
                            checkoutTermsContent: form.querySelector('[name="checkoutTermsContent"]').value,
                            checkoutTermsCheckboxText: form.querySelector('[name="checkoutTermsCheckboxText"]').value,
                            termsLastUpdated: form.querySelector('[name="termsLastUpdated"]').value,
                            termsVersion: form.querySelector('[name="termsVersion"]').value,
                            requireAgreement: form.querySelector('[name="requireAgreement"]').checked
                        };
                        
                        const statusDiv = document.getElementById('terms-status-message');
                        statusDiv.innerHTML = '<p style="color: #007bff;">Saving terms and conditions...</p>';
                        
                        try {
                            await saveTermsAndConditions(formData);
                            statusDiv.innerHTML = '<p style="color: green; margin-top: 1em;">Terms and conditions saved successfully!</p>';
                            
                            // Auto-hide success message after 3 seconds
                            setTimeout(() => {
                                statusDiv.innerHTML = '';
                            }, 3000);
                        } catch (err) {
                            statusDiv.innerHTML = '<p style="color: red; margin-top: 1em;">Failed to save terms and conditions.</p>';
                        }
                    }
                    
                    // --- Review Section Functions ---
                    async function handleReviewFormSubmit(e) {
                        e.preventDefault();
                        
                        const formData = new FormData(e.target);
                        const reviewSettings = {
                            sectionTitle: formData.get('sectionTitle'),
                            sectionSubtitle: formData.get('sectionSubtitle'),
                            emptyMessage: formData.get('emptyMessage'),
                            formTitle: formData.get('formTitle'),
                            formNote: formData.get('formNote'),
                            loginPrompt: formData.get('loginPrompt'),
                            reviewsPerPage: parseInt(formData.get('reviewsPerPage')),
                            defaultSort: formData.get('defaultSort'),
                            enableImageUploads: formData.get('enableImageUploads') === 'on',
                            requireVerification: formData.get('requireVerification') === 'on',
                            autoApproveReviews: formData.get('autoApproveReviews') === 'on',
                            enableReviewFlagging: formData.get('enableReviewFlagging') === 'on',
                            minReviewLength: parseInt(formData.get('minReviewLength'))
                        };
                        
                        try {
                            const response = await fetch('/api/cms/review-settings', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify(reviewSettings)
                            });
                            
                            const result = await response.json();
                            
                            if (result.success) {
                                document.getElementById('review-status-message').innerHTML = 
                                    '<div style="color: #10b981; background: #d1fae5; padding: 1rem; border-radius: 4px; margin-top: 1rem;">‚úÖ Review settings saved successfully!</div>';
                                
                                // Update preview
                                updateReviewPreview(reviewSettings);
                            } else {
                                document.getElementById('review-status-message').innerHTML = 
                                    '<div style="color: #ef4444; background: #fee2e2; padding: 1rem; border-radius: 4px; margin-top: 1rem;">‚ùå Failed to save review settings: ' + result.error + '</div>';
                            }
                        } catch (error) {
                            console.error('Error saving review settings:', error);
                            document.getElementById('review-status-message').innerHTML = 
                                '<div style="color: #ef4444; background: #fee2e2; padding: 1rem; border-radius: 4px; margin-top: 1rem;">‚ùå Error saving review settings: ' + error.message + '</div>';
                        }
                    }
                    
                    async function loadReviewSettings() {
                        try {
                            const response = await fetch('/api/cms/review-settings');
                            const result = await response.json();
                            
                            if (result.success && result.settings) {
                                const settings = result.settings;
                                
                                // Populate form fields
                                document.getElementById('review-section-title').value = settings.sectionTitle || 'Customer Reviews';
                                document.getElementById('review-section-subtitle').value = settings.sectionSubtitle || 'See what our customers are saying about this product';
                                document.getElementById('review-empty-message').value = settings.emptyMessage || 'No reviews yet. Be the first to review this product!';
                                document.getElementById('review-form-title').value = settings.formTitle || 'Add your review';
                                document.getElementById('review-form-note').value = settings.formNote || 'Your email address will not be published. Required fields are marked*';
                                document.getElementById('review-login-prompt').value = settings.loginPrompt || 'Please login to leave a review.';
                                document.getElementById('reviews-per-page').value = settings.reviewsPerPage || 4;
                                document.getElementById('default-sort').value = settings.defaultSort || 'newest';
                                document.getElementById('enable-image-uploads').checked = settings.enableImageUploads || false;
                                document.getElementById('require-verification').checked = settings.requireVerification || false;
                                document.getElementById('auto-approve-reviews').checked = settings.autoApproveReviews || false;
                                document.getElementById('enable-review-flagging').checked = settings.enableReviewFlagging || false;
                                document.getElementById('min-review-length').value = settings.minReviewLength || 10;
                                
                                // Update preview
                                updateReviewPreview(settings);
                            }
                        } catch (error) {
                            console.error('Error loading review settings:', error);
                        }
                    }
                    
                    function updateReviewPreview(settings) {
                        // Update preview elements
                        const previewTitle = document.getElementById('preview-review-title');
                        const previewSubtitle = document.getElementById('preview-review-subtitle');
                        
                        if (previewTitle) previewTitle.textContent = settings.sectionTitle || 'Customer Reviews';
                        if (previewSubtitle) previewSubtitle.textContent = settings.sectionSubtitle || 'See what our customers are saying about this product';
                    }
                    
                    document.addEventListener('DOMContentLoaded', function() {
                        showTab('banner');
                        const themeForm = document.getElementById('theme-form');
                        if (themeForm) themeForm.addEventListener('submit', saveTheme);
                        
                        const backgroundForm = document.getElementById('theme-background-form');
                        if (backgroundForm) backgroundForm.addEventListener('submit', handleBackgroundImageUpload);
                        
                        const termsForm = document.getElementById('terms-form');
                        if (termsForm) {
                            termsForm.addEventListener('submit', handleTermsFormSubmit);
                            loadTermsAndConditions();
                        }
                        
                        const headerBannerForm = document.getElementById('header-banner-form');
                        if (headerBannerForm) {
                            headerBannerForm.addEventListener('submit', handleHeaderBannerFormSubmit);
                            loadHeaderBannerSettings();
                            
                            // Add real-time preview updates
                            const previewInputs = ['main-bg-color', 'contact-text-color', 'contact-icon-color', 
                                                 'nav-bg-color', 'nav-text-color', 'nav-hover-color', 'search-border-color', 
                                                 'icon-color', 'contact-email', 'contact-phone', 
                                                 'contact-address', 'contact-font-size', 'contact-spacing', 'contact-show-icons', 
                                                 'search-placeholder', 'logo-url'];
                            previewInputs.forEach(inputId => {
                                const input = document.getElementById(inputId);
                                if (input) {
                                    input.addEventListener('input', updateHeaderPreview);
                                    input.addEventListener('change', updateHeaderPreview);
                                }
                            });
                            
                            // Add file input change listener for logo upload
                            const logoUploadInput = document.getElementById('logo-upload');
                            if (logoUploadInput) {
                                logoUploadInput.addEventListener('change', function(e) {
                                    const file = e.target.files[0];
                                    if (file) {
                                        // Create a preview URL for the selected file
                                        const previewUrl = URL.createObjectURL(file);
                                        document.getElementById('logo-url').value = previewUrl;
                                        updateHeaderPreview();
                                    }
                                });
                            }
                        }
                        
                        const reviewForm = document.getElementById('review-settings-form');
                        if (reviewForm) {
                            reviewForm.addEventListener('submit', handleReviewFormSubmit);
                            loadReviewSettings();
                        }
                        
                        // Add hero banner form submission handler
                        const heroBannerForm = document.getElementById('hero-banner-form');
                        if (heroBannerForm) {
                            heroBannerForm.addEventListener('submit', function(e) {
                                e.preventDefault();
                                saveHeroBannerSettings();
                            });
                            
                            // Add real-time preview updates
                            setupHeroBannerPreviewListeners();
                        }
                        
                        // Load hero banner settings on page load
                        loadHeroBannerSettings();
                        
                        fetchActiveTheme();
                    });
                    
                    // --- Messages Tab Logic ---
                    let messages = [];
                    
                    async function loadMessages() {
                        try {
                            const response = await fetch('/api/admin/contact-messages');
                            const data = await response.json();
                            
                            if (data.success) {
                                messages = data.messages;
                                renderMessages();
                                updateStats();
                            } else {
                                document.getElementById('messages-list').innerHTML = 
                                    '<div style="text-align: center; padding: 3rem; color: #666;"><h3>Error loading messages</h3><p>Please try again later.</p></div>';
                            }
                        } catch (error) {
                            console.error('Error loading messages:', error);
                            document.getElementById('messages-list').innerHTML = 
                                '<div style="text-align: center; padding: 3rem; color: #666;"><h3>Error loading messages</h3><p>Please check your connection and try again.</p></div>';
                        }
                    }
                    
                    function updateStats() {
                        const stats = messages.reduce((acc, msg) => {
                            acc.total++;
                            const status = (msg.status || 'new').toLowerCase();
                            if (acc.hasOwnProperty(status)) {
                                acc[status]++;
                            } else {
                                acc.new++; // Default to 'new' if status is unknown
                            }
                            return acc;
                        }, { total: 0, new: 0, read: 0, replied: 0, closed: 0 });
                        
                        document.getElementById('total-messages').textContent = stats.total;
                        document.getElementById('new-messages').textContent = stats.new;
                        document.getElementById('read-messages').textContent = stats.read;
                        document.getElementById('replied-messages').textContent = stats.replied;
                    }
                    
                    function renderMessages() {
                        const messagesList = document.getElementById('messages-list');
                        
                        if (messages.length === 0) {
                            messagesList.innerHTML = `
                                <div style="text-align: center; padding: 3rem; color: #666;">
                                    <h3>No Messages Yet</h3>
                                    <p>Contact form submissions will appear here.</p>
                                </div>
                            `;
                            return;
                        }
                        
                        messagesList.innerHTML = messages.map(message => `
                            <div style="border-bottom: 1px solid #e9ecef; padding: 1.5rem; margin-bottom: 1rem; background: #f8f9fa; border-radius: 6px;" data-id="${message.id}">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                                    <div style="flex: 1;">
                                        <h5 style="font-weight: 600; color: #333; margin: 0 0 0.25rem 0; font-size: 1.1rem;">${message.name}</h5>
                                        <a href="mailto:${message.email}" style="color: #007bff; margin: 0 0 0.25rem 0; text-decoration: none; font-size: 0.9rem;">${message.email}</a>
                                        <p style="color: #6c757d; font-size: 0.85rem; margin: 0;">${new Date(message.submissionDate).toLocaleString()}</p>
                                    </div>
                                    <span style="padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; ${getStatusStyle(message.status)}">${message.status}</span>
                                </div>
                                <div style="background: white; padding: 1rem; border-radius: 6px; border: 1px solid #dee2e6; margin-bottom: 1rem;">
                                    <p style="margin: 0; color: #495057; line-height: 1.5;">${message.message}</p>
                                </div>
                                <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                    <button onclick="replyToMessage('${message.email}')" style="background: #007bff; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.85rem; font-weight: 500;">üìß Reply</button>
                                    ${message.status !== 'read' ? `
                                        <button onclick="updateMessageStatus(${message.id}, 'read')" style="background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.85rem; font-weight: 500;">‚úì Mark as Read</button>
                                    ` : ''}
                                    ${message.status !== 'replied' ? `
                                        <button onclick="updateMessageStatus(${message.id}, 'replied')" style="background: #ffc107; color: #212529; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.85rem; font-weight: 500;">‚úì Mark as Replied</button>
                                    ` : ''}
                                    ${message.status !== 'closed' ? `
                                        <button onclick="updateMessageStatus(${message.id}, 'closed')" style="background: #6c757d; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.85rem; font-weight: 500;">üîí Close</button>
                                    ` : ''}
                                    <button onclick="deleteMessage(${message.id})" style="background: #dc3545; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.85rem; font-weight: 500;">üóëÔ∏è Delete</button>
                                </div>
                            </div>
                        `).join('');
                    }
                    
                    function getStatusStyle(status) {
                        const styles = {
                            'New': 'background: #fff3cd; color: #856404; border: 1px solid #ffeaa7;',
                            'Read': 'background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb;',
                            'Replied': 'background: #d4edda; color: #155724; border: 1px solid #c3e6cb;',
                            'Closed': 'background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;'
                        };
                        return styles[status] || styles['New'];
                    }
                    
                    async function updateMessageStatus(id, status) {
                        try {
                            const response = await fetch(`/api/admin/contact-messages/${id}/status`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify({ status })
                            });
                            
                            const data = await response.json();
                            
                            if (data.success) {
                                // Update the local messages array
                                const messageIndex = messages.findIndex(msg => msg.id === id);
                                if (messageIndex !== -1) {
                                    messages[messageIndex].status = status;
                                    renderMessages();
                                    updateStats();
                                }
                            } else {
                                alert('Failed to update status: ' + data.message);
                            }
                        } catch (error) {
                            console.error('Error updating status:', error);
                            alert('Error updating status. Please try again.');
                        }
                    }
                    
                    async function deleteMessage(id) {
                        if (!confirm('Are you sure you want to delete this message? This action cannot be undone.')) {
                            return;
                        }
                        
                        try {
                            const response = await fetch(`/api/admin/contact-messages/${id}`, {
                                method: 'DELETE'
                            });
                            
                            const data = await response.json();
                            
                            if (data.success) {
                                // Remove from local messages array
                                messages = messages.filter(msg => msg.SubmissionID !== id);
                                renderMessages();
                                updateStats();
                            } else {
                                alert('Failed to delete message: ' + data.message);
                            }
                        } catch (error) {
                            console.error('Error deleting message:', error);
                            alert('Error deleting message. Please try again.');
                        }
                    }
                    
                    function replyToMessage(email) {
                        // Open default email client with pre-filled recipient
                        window.open(`mailto:${email}?subject=Re: Your inquiry about Design Excellence`, '_blank');
                    }
                </script>
            </div>
            <script src="/js/Employee/Admin/AdminCMS.js"></script>
            <script>
                // Initialize header offer bar functionality
                document.addEventListener('DOMContentLoaded', function() {
                    const headerOfferForm = document.getElementById('header-offer-form');
                    if (headerOfferForm) {
                        headerOfferForm.addEventListener('submit', handleHeaderOfferFormSubmit);
                        loadHeaderOfferBarSettings();
                        
                        // Add real-time preview updates
                        const previewInputs = ['header-offer-text', 'header-offer-link', 'header-offer-background-color', 'header-offer-text-color'];
                        previewInputs.forEach(inputId => {
                            const input = document.getElementById(inputId);
                            if (input) {
                                input.addEventListener('input', updateHeaderOfferPreview);
                            }
                        });
                    }
                });
                
                // Header offer preview function
                function updateHeaderOfferPreview() {
                    const offerText = document.getElementById('header-offer-text').value || 'SPECIAL OFFER Get 25% off premium office furniture collections - Limited time offer ending soon!';
                    const offerLink = document.getElementById('header-offer-link').value || '#';
                    const backgroundColor = document.getElementById('header-offer-background-color').value || '#ffc107';
                    const textColor = document.getElementById('header-offer-text-color').value || '#ffffff';
                    
                    const preview = document.getElementById('header-offer-preview');
                    const previewText = document.getElementById('preview-offer-text');
                    const previewLink = document.getElementById('preview-offer-link');
                    
                    if (preview) {
                        preview.style.backgroundColor = backgroundColor;
                        preview.style.color = textColor;
                    }
                    
                    if (previewText) {
                        previewText.textContent = offerText;
                    }
                    
                    if (previewLink) {
                        previewLink.href = offerLink;
                        previewLink.style.color = '#333';
                    }
                }
                
                // Load header offer settings function
                function loadHeaderOfferBarSettings() {
                    fetch('/api/cms/header-offer')
                        .then(response => response.json())
                        .then(data => {
                            if (data.success && data.settings) {
                                const settings = data.settings;
                                document.getElementById('header-offer-text').value = settings.offerText || '';
                                document.getElementById('header-offer-link').value = settings.offerLink || '';
                                document.getElementById('header-offer-background-color').value = settings.backgroundColor || '#ffc107';
                                document.getElementById('header-offer-text-color').value = settings.textColor || '#ffffff';
                                document.getElementById('header-offer-status').checked = settings.isActive || false;
                                
                                // Update preview
                                updateHeaderOfferPreview();
                            }
                        })
                        .catch(error => {
                            console.error('Error loading header offer settings:', error);
                        });
                }
                
                // Initialize automessages functionality
                const autoMessagesForm = document.getElementById('auto-messages-form');
                if (autoMessagesForm) {
                    autoMessagesForm.addEventListener('submit', handleAutoMessagesFormSubmit);
                    renderAutoMessagesList();
                }
                
                // Initialize edit form functionality
                const editForm = document.getElementById('faq-edit-form');
                if (editForm) {
                    editForm.addEventListener('submit', handleEditFormSubmit);
                }
            </script>
        </div>
    </div>

    <!-- Custom Confirmation Modal -->
    <div id="logoutConfirmModal" class="modal-overlay">
        <div class="modal-content">
            <h3>Confirm Logout</h3>
            <p>Are you sure you want to log out?</p>
            <div class="modal-buttons">
                <button class="modal-button confirm" id="confirmLogoutBtn">Logout</button>
                <button class="modal-button cancel" id="cancelLogoutBtn">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Custom Logout Modal Logic
        const logoutConfirmModal = document.getElementById('logoutConfirmModal');
        const confirmLogoutBtn = document.getElementById('confirmLogoutBtn');
        const cancelLogoutBtn = document.getElementById('cancelLogoutBtn');

        async function handleLogout(event) {
            event.preventDefault();
            logoutConfirmModal.classList.add('show');
        }

        confirmLogoutBtn.addEventListener('click', async () => {
            logoutConfirmModal.classList.remove('show');
            try {
                const response = await fetch('/logout', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    window.location.href = '/login';
                } else {
                    console.error('Logout failed');
                    alert('Failed to logout. Please try again.');
                }
            } catch (error) {
                console.error('Error during logout:', error);
                alert('An error occurred during logout. Please try again.');
            }
        });

        cancelLogoutBtn.addEventListener('click', () => {
            logoutConfirmModal.classList.remove('show');
        });

        // Close modal if clicked outside content
        logoutConfirmModal.addEventListener('click', (event) => {
            if (event.target === logoutConfirmModal) {
                logoutConfirmModal.classList.remove('show');
            }
        });

        // About Us Form Submission Handler
        document.addEventListener('DOMContentLoaded', function() {
            const aboutForm = document.getElementById('about-form');
            if (aboutForm) {
                aboutForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const formData = new FormData(aboutForm);
                    const data = {};
                    
                    // Convert FormData to object
                    for (let [key, value] of formData.entries()) {
                        data[key] = value;
                    }
                    
                    // Show loading status
                    const statusDiv = document.getElementById('about-status');
                    if (statusDiv) {
                        statusDiv.innerHTML = '<p style="color: #007bff;">Saving About Us content...</p>';
                    }
                    
                    try {
                        const result = await saveAboutContent(data);
                        if (result.success) {
                            if (statusDiv) {
                                statusDiv.innerHTML = '<p style="color: green;">About Us content saved successfully!</p>';
                                // Auto-hide success message after 3 seconds
                                setTimeout(() => {
                                    statusDiv.innerHTML = '';
                                }, 3000);
                            }
                        } else {
                            if (statusDiv) {
                                statusDiv.innerHTML = '<p style="color: red;">Failed to save content: ' + (result.message || 'Unknown error') + '</p>';
                            }
                        }
                    } catch (error) {
                        console.error('Error saving about content:', error);
                        if (statusDiv) {
                            statusDiv.innerHTML = '<p style="color: red;">Error saving content: ' + error.message + '</p>';
                        }
                    }
                });
            }
        });
    </script>
        <script src="/js/dark-mode.js"></script>
</body>
</html> 